<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <title>Hung Truong: The Blog!</title>

    <!-- Open Graph Meta -->
    <meta content="Hung Truong: The Blog!" property="og:site_name">
    
      <meta content="Hung Truong: The Blog!" property="og:title">
    
    
      <meta content="article" property="og:type">
    
    
      <meta content="I say potato, you say potato..." property="og:description">
    
    
      <meta content="http://www.hung-truong.com//page/6/" property="og:url">
    
    
    
      <meta content="http://www.hung-truong.com//assets/img/danbo.jpg" property="og:image">
    

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@hungtruong">
    <meta name="twitter:creator" content="@hungtruong">
    
      <meta name="twitter:title" content="Hung Truong: The Blog!">
    
    
      <meta name="twitter:url" content="http://www.hung-truong.com//page/6/">
    
    
      <meta name="twitter:description" content="I say potato, you say potato...">
    
    
      <meta name="twitter:image:src" content="http://www.hung-truong.com//assets/img/danbo.jpg">
    


    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/blog/assets/img/favicon.ico" />

    <!-- Come and get me RSS readers -->
    <link rel="alternate" type="application/rss+xml" title="Hung Truong: The Blog!" href="http://www.hung-truong.com//blog/feed.xml" />

    <!-- Stylesheet -->
    <link rel="stylesheet" href="/blog/assets/css/style.css">
    <!--[if IE 8]><link rel="stylesheet" href="/blog/assets/css/ie.css"><![endif]-->
    <link rel="canonical" href="http://www.hung-truong.com//blog/page/6/">

    <!-- Modernizr -->
    <script src="/blog/assets/js/modernizr.custom.15390.js" type="text/javascript"></script>

     <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-58263416-1', 'auto');
ga('send', 'pageview');

</script>
 
</head>


<body>

    <div class="header">
     <div class="container">
         <h1 class="logo"><a href="/blog/">Hung Truong: The Blog!</a></h1>
         <nav class="nav-collapse">
             <ul class="noList">
                 
                 <li class="element first  ">
                     <a href="/blog/index.html">Home</a>
                 </li>
                 
                 <li class="element   ">
                     <a href="/blog/archives">Archives</a>
                 </li>
                 
                 <li class="element   ">
                     <a href="/blog/about">About</a>
                 </li>
                 
                 <li class="element   last">
                     <a href="/blog/contact">Contact</a>
                 </li>
                 
             </ul>
         </nav>
     </div>
 </div><!-- end .header -->


   <div class="content">
      <div class="container">
         <div class="home" id="home">
  <ul class="posts noList">
    
      <li>
        <span class="date">January 13, 2013</span>
        <h3><a class="post-link" href="/blog/2013/01/13/pharma-hack-update-finally-gone/">Pharma Hack Update: Finally Gone</a></h3>
        <p><p>A good while ago, I wrote a blog post about how my blog was <a href="http://www.hung-truong.com/blog/2012/06/21/pharma-hacked/">pharma hacked</a>, and I thought I had gotten rid of it. I was actually extremely wrong, and it’s taken about half a year of off/on again fiddling to get rid of the infection for good. I thought I’d write up what I did in case anyone else has issues with this hack.</p>

<p>In order to remove it, I tried searching for solutions from other bloggers. They got me to a certain point, but after following the directions and letting my blog sit for a week or so, I’d use the Google Webmasters feature to “fetch as Googlebot” and find that my site was reinfected.</p>

<p>Here’s a step by step summary of what I had to do to finally get rid of the nasty pharma hack.</p>

<p>I downloaded the latest tar.gz from WordPress <a href="http://wordpress.org/download/">here</a> and extracted it to my root web directory. My blog lives in the subfolder “/blog/” so I just moved the wp-config.php file from /blog/ to the /wordpress directory, then I renamed the blog folder to something else and renamed wordpress to blog. I found that I’d also have to re-set the permalink settings to get pages besides my home page to show up correctly.</p>

<p>My main mistake was copying the wp-contents subfolders back to the /blog/ directory. I assumed that the main infected file (wp-loads.php) was the only culprit. It turned out that I also had multiple php backdoors in my wp-contents directories, in /plugins, /themes, and even /uploads.</p>

<p>I basically had to re-download anything in plugins and themes so that I knew those directories would be fresh. I ran a command to delete anything in /uploads that was a .php file, as that was how the backdoor worked. I believe it was something like</p>

<p><code class="highlighter-rouge">find /path/to/uploads -name "*.php" | xargs rm</code></p>

<p>but you probably want to double check that before running it on your server.</p>

<p>I also noticed that some backdoors existed in the root of my web directory, where I keep my portfolio. If you have other directories besides your blog in your web root, it’s probably worthwhile to check those out.</p>

<p>At this point I was pretty close to having a clean WordPress install. But for some reason my site would still eventually fall to the pharma hack. I checked my server logs and it looked like someone was modifying header.php in my theme directory from the admin panel. This was pretty surprising because I thought I had my password locked down pretty tight. I am actually still not sure whether the password was compromised, or some other feature in php (or a cookie) allowed the hacker to access the admin theme editor. Either way I’m pretty sure the header.php was hacked to write a new backdoor file which would then create other backdoors. Pretty smart!</p>

<p>To fix this, I put another layer of security on my wp-admin directory with a .htaccess and .htpasswd file. I also updated my password to a 40 character random string that even I can’t remember. Finally, I just erased the file that does theme editing in the admin interface since I never use it and it seems like a really weak vulnerability.</p>

<p>So far, the pharma hack hasn’t resurfaced and it’s been about two weeks. I’m going to say that I’m slightly confident it won’t return (unless there’s another vulnerability in WordPress that pops up).</p>

<p>I feel like I learned quite a bit about security while playing whack-a-mole with this hack. I got to look at the backdoor files and figure out how they were hidden and obfuscated, and eventually found what I think was the root of the problem in the WordPress theme editor. I also hacked together some scripts to show recently modified files (hacked together from stuff I found doing some searches). If I end up getting hacked like this again, I’ll probably be able to remove it faster.</p>

<p>For a while, I was considering moving to Jekyll for my blog. But that seemed like a bit too much work moving posts and comments, and learning a new blogging system, especially for how infrequently I blog nowadays. For now, I will stick with WordPress with all of its vulnerabilities, which have hopefully been mitigated with the few extra precautions I’ve added.</p>


          
            
            
            

            
          
          
        </p>
      </li>
    
      <li>
        <span class="date">December 12, 2012</span>
        <h3><a class="post-link" href="/blog/2012/12/12/winning-at-jeopardy/">Winning at Jeopardy</a></h3>
        <p><p>I just had another dream that felt very real up to the moment when I checked my phone and realized I hadn’t won on Jeopardy. I might need to start up a series on my blog about weird dreams if this keeps up.</p>

<p>There was a news story on AnnArbor.com yesterday about a local <a href="http://annarbor.com/entertainment/jan-rishoi-ann-arbor-jeopardy/">Ann Arbor guy appearing on Jeopardy</a> that I tweeted from my parody account, so that’s probably what fueled this weird dream.</p>

<p>For some reason I’m on the Jeopardy website, checking out the hall of fame. I vaguely recall having been on Jeopardy. This is cool because my old friend Susan was always trying to get onto Jeopardy and now I can brag to her that I was on it. I investigate further and realize that not only did I appear, but I won! My total winnings amounted to around $21,000 in June of 2011. At this point I’m wondering why I never got the check from Alex.</p>

<p>The first thing I did was search for “jeopardy” in my gmail (this is also what I do in real life if I need to remember something). This was harder than I expected, because spelling “jeopardy” in a dream is harder than in real life. That only brought up two random emails, so I checked the hall of fame webpage again. It listed that my email address on file was “hungtron@gmail.com.” So apparently a typo was all that stood in the way of me and my prize money.</p>

<p>The website had an email form to fill out (as well as a fax number) for corrections, etc. I didn’t really question why the public-facing website had so much information on it. As I raced to fill out my correct information “I regret to inform you that you have not paid me yet, and I am the Hung Truong who won back in 2011”, I woke up to the sobering reality that I was never a Jeopardy winner.</p>

<p>That’s always the hardest moment. Realizing that you didn’t win at Jeopardy, don’t have an awesome dog, etc. sucks. But I guess I can take consolation in the fact that today is a new day where literally anything is possible (except for winning at Jeopardy, obviously).</p>


          
            
            
            

            
          
          
        </p>
      </li>
    
      <li>
        <span class="date">December 10, 2012</span>
        <h3><a class="post-link" href="/blog/2012/12/10/weird-dream-starring-cameron-diaz-and-ellen-page/">Weird Dream Starring Cameron Diaz and Ellen Page</a></h3>
        <p><p>I had a weird dream that won’t fit into Twitter, so I might as well write it down here since my blog hasn’t seen much love lately.</p>

<p>This was the sort of dream where I’m watching a movie. The movie starred <a href="http://www.imdb.com/name/nm0000139/">Cameron Diaz</a> and <a href="http://www.imdb.com/name/nm0680983/">Ellen Page</a> as two roommates (or some people living in the same house) who have recently become zombified. Apparently they’re fighting to survive in a dream/cyber world with other people in the same predicament. Now that I think of it, the plot resembles a modern <a href="http://www.imdb.com/title/tt0094721/">Beetlejuice</a>.</p>

<p>For some reason, <a href="http://www.imdb.com/name/nm0275486/?ref_=fn_al_nm_1">Tina Fey</a> was cast as their PR specialist. In one scene, Page and Diaz dump off Fey at the beach, along with one of their boyfriends. Apparently they don’t want their significant others and family worrying about the fact that they’re zombies now, so they leave without a word. I wasn’t sure how the family didn’t notice the smell (maybe they were being polite).</p>

<p>If someone can get this green-lighted I’m sure I can fill in the rest of the details.</p>


          
            
            
            

            
          
          
        </p>
      </li>
    
      <li>
        <span class="date">July 22, 2012</span>
        <h3><a class="post-link" href="/blog/2012/07/22/sxsw-panel-idea-mashups-noble-bootstrapping-or-downright-stealing/">SXSW Panel Idea: Mashups &#8211; Noble Bootstrapping or Downright Stealing?</a></h3>
        <p><figure id="attachment_2624" style="max-width: 500px" class="wp-caption aligncenter"><a href="/blog/wp-content/uploads/2012/07/mashe.jpeg" rel="lightbox[2623]"><img src="/blog/wp-content/uploads/2012/07/mashe.jpeg?resize=500%2C332" alt="" title="masher" width="500" height="332" class="size-medium wp-image-2624" srcset="/blog/wp-content/uploads/2012/07/mashe.jpeg?resize=500%2C332 500w, /blog/wp-content/uploads/2012/07/mashe.jpeg?resize=451%2C300 451w, /blog/wp-content/uploads/2012/07/mashe.jpeg?w=640 640w" sizes="(max-width: 500px) 100vw, 500px" data-recalc-dims="1" /></a><figcaption class="wp-caption-text">Some rights reserved by Adam Mulligan</figcaption></figure>

<p>I checked SXSW today and noticed that the deadline for panel proposals is tonight. I originally wasn’t going to post anything, but I sat and thought for a bit about things I know enough about to propose/speak about at a conference. I remembered the whole craigslist incident and thought it would be interesting to propose a panel discussion about the state of mashups today.<figure id="attachment_2626" style="max-width: 500px" class="wp-caption aligncenter"></figure></p>

<p><a href="/blog/wp-content/uploads/2012/07/potato.jpeg" rel="lightbox[2623]"><img src="/blog/wp-content/uploads/2012/07/potato.jpeg?resize=500%2C334" alt="" title="potato" width="500" height="334" class="size-medium wp-image-2626" srcset="/blog/wp-content/uploads/2012/07/potato.jpeg?resize=500%2C334 500w, /blog/wp-content/uploads/2012/07/potato.jpeg?resize=448%2C300 448w, /blog/wp-content/uploads/2012/07/potato.jpeg?w=575 575w" sizes="(max-width: 500px) 100vw, 500px" data-recalc-dims="1" /></a>&lt;figcaption class="wp-caption-text"&gt;Some rights reserved by elana’s pantry&lt;/figcaption&gt;&lt;/figure&gt;</p>

<p>In the past, mashups were held to a pretty high opinion. The proper mashup might be able to take two things and simplify a process to critical acclaim. I think in those days, mashups weren’t thought of as startups or businesses, just small tools that people could use. Flash forward to today and sites like Mapskrieg and Padmapper (and others like AirBnB) are being C&amp;Ded for their terms of use violations. Something happened in the startup world that made mashups into a viable threat, which the bigger players did not approve of.</p>

<p>While the term “mashup” seems a bit archaic now, I think it would be interesting to revisit that term and see what it means today. Take some pioneers of mashing up and some new startups and get them talking about stuff.<figure id="attachment_2627" style="max-width: 500px" class="wp-caption aligncenter"></figure></p>

<p><a href="/blog/wp-content/uploads/2012/07/2270212058_13b4ef1e73_z.jpeg" rel="lightbox[2623]"><img src="/blog/wp-content/uploads/2012/07/2270212058_13b4ef1e73_z.jpeg?resize=500%2C333" alt="" title="" width="500" height="333" class="size-medium wp-image-2627" srcset="/blog/wp-content/uploads/2012/07/2270212058_13b4ef1e73_z.jpeg?resize=500%2C333 500w, /blog/wp-content/uploads/2012/07/2270212058_13b4ef1e73_z.jpeg?resize=449%2C300 449w, /blog/wp-content/uploads/2012/07/2270212058_13b4ef1e73_z.jpeg?w=640 640w" sizes="(max-width: 500px) 100vw, 500px" data-recalc-dims="1" /></a>&lt;figcaption class="wp-caption-text"&gt;Some rights reserved by 427&lt;/figcaption&gt;&lt;/figure&gt;</p>

<p>In other news, it looks like the Panel Picker requires some kind of “visual resource” like a video or slideshow or something. I don’t see how my proposal could be improved by that (it’s pretty cut and dry) so I’ll probably just link to this blog post and insert a lot of unrelated pictures of things being mashed up. CC licensed, of course.</p>


          
            
            
            

            
          
          
        </p>
      </li>
    
      <li>
        <span class="date">June 24, 2012</span>
        <h3><a class="post-link" href="/blog/2012/06/24/on-mapskrieg-and-craigslist-cease-and-desist-requests/">On Mapskrieg and craigslist Cease and Desist Requests</a></h3>
        <p><p><a href="/blog/wp-content/uploads/2007/05/logo.png" rel="lightbox[2600]"><img src="/blog/wp-content/uploads/2007/05/logo.png?resize=287%2C59" alt="" title="MapsKrieg" width="287" height="59" class="aligncenter size-full wp-image-554" data-recalc-dims="1" /></a></p>

<p>As I mentioned on Twitter a while back, I got a cease and desist request from craigslist a couple of weeks ago for <a href="http://www.hung-truong.com/blog/2007/05/06/mapskrieg-craigslist-google-maps-mashup-launch/">Mapskrieg</a> (my craigslist + Google Maps mashup for web and iOS). This request came at a pretty bad time (right before I was to move from Chicago to Ann Arbor). I quickly agreed to it and removed the app (I didn’t really have time or money to fight a lawsuit). I also added a passive-aggressive note on <a href="http://www.mapskrieg.com/">mapskrieg.com</a> that you can still read if you’d like. I contacted a reporter at PandoDaily since I had seen a few other tweets about C&amp;Ds from craigslist. He proceeded to write a pretty badly researched article (he originally was going to post that I made housingmaps.com) that got very little attention.</p>



          
            
            
            

            
              <a href="/blog/2012/06/24/on-mapskrieg-and-craigslist-cease-and-desist-requests/">More &hellip;</a>
            
          
          
        </p>
      </li>
    
  </ul>
  <!-- Pagination links -->
  <div class="pagination">
    
      <a href="/blog/page/5/" class="previous button__outline">Newer Posts</a>
    
    
      <a href="/blog/page/7/" class="next button__outline">Older Posts</a>
    
  </div>
</div>

      </div>
   </div><!-- end .content -->

   <div class="footer">
   <div class="container">
      <p class="copy">&copy; 2018 <a href="http://www.hung-truong.com/blog/">Hung Truong</a></p>

      <div class="footer-links">
         <ul class="noList">
            
            
            <li><a href="https://twitter.com/hungtruong">
                  <svg id="twitter" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M99.001,19.428c-3.606,1.608-7.48,2.695-11.547,3.184c4.15-2.503,7.338-6.466,8.841-11.189 c-3.885,2.318-8.187,4-12.768,4.908c-3.667-3.931-8.893-6.387-14.676-6.387c-11.104,0-20.107,9.054-20.107,20.223 c0,1.585,0.177,3.128,0.52,4.609c-16.71-0.845-31.525-8.895-41.442-21.131C6.092,16.633,5.1,20.107,5.1,23.813 c0,7.017,3.55,13.208,8.945,16.834c-3.296-0.104-6.397-1.014-9.106-2.529c-0.002,0.085-0.002,0.17-0.002,0.255 c0,9.799,6.931,17.972,16.129,19.831c-1.688,0.463-3.463,0.71-5.297,0.71c-1.296,0-2.555-0.127-3.783-0.363 c2.559,8.034,9.984,13.882,18.782,14.045c-6.881,5.424-15.551,8.657-24.971,8.657c-1.623,0-3.223-0.096-4.796-0.282 c8.898,5.738,19.467,9.087,30.82,9.087c36.982,0,57.206-30.817,57.206-57.543c0-0.877-0.02-1.748-0.059-2.617 C92.896,27.045,96.305,23.482,99.001,19.428z"></path>
                  </svg>
            </a></li>
            
            
            <li><a href="https://github.com/hungtruong">
                  <svg id="github" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M79.099,79.099 c-3.782,3.782-8.184,6.75-13.083,8.823c-1.245,0.526-2.509,0.989-3.79,1.387v-7.344c0-3.86-1.324-6.699-3.972-8.517 c1.659-0.16,3.182-0.383,4.57-0.67c1.388-0.287,2.855-0.702,4.402-1.245c1.547-0.543,2.935-1.189,4.163-1.938 c1.228-0.75,2.409-1.723,3.541-2.919s2.082-2.552,2.847-4.067s1.372-3.334,1.818-5.455c0.446-2.121,0.67-4.458,0.67-7.01 c0-4.945-1.611-9.155-4.833-12.633c1.467-3.828,1.308-7.991-0.478-12.489l-1.197-0.143c-0.829-0.096-2.321,0.255-4.474,1.053 c-2.153,0.798-4.57,2.105-7.249,3.924c-3.797-1.053-7.736-1.579-11.82-1.579c-4.115,0-8.039,0.526-11.772,1.579 c-1.69-1.149-3.294-2.097-4.809-2.847c-1.515-0.75-2.727-1.26-3.637-1.532c-0.909-0.271-1.754-0.439-2.536-0.503 c-0.782-0.064-1.284-0.079-1.507-0.048c-0.223,0.031-0.383,0.064-0.478,0.096c-1.787,4.53-1.946,8.694-0.478,12.489 c-3.222,3.477-4.833,7.688-4.833,12.633c0,2.552,0.223,4.889,0.67,7.01c0.447,2.121,1.053,3.94,1.818,5.455 c0.765,1.515,1.715,2.871,2.847,4.067s2.313,2.169,3.541,2.919c1.228,0.751,2.616,1.396,4.163,1.938 c1.547,0.543,3.014,0.957,4.402,1.245c1.388,0.287,2.911,0.511,4.57,0.67c-2.616,1.787-3.924,4.626-3.924,8.517v7.487 c-1.445-0.43-2.869-0.938-4.268-1.53c-4.899-2.073-9.301-5.041-13.083-8.823c-3.782-3.782-6.75-8.184-8.823-13.083 C9.934,60.948,8.847,55.56,8.847,50s1.087-10.948,3.231-16.016c2.073-4.899,5.041-9.301,8.823-13.083s8.184-6.75,13.083-8.823 C39.052,9.934,44.44,8.847,50,8.847s10.948,1.087,16.016,3.231c4.9,2.073,9.301,5.041,13.083,8.823 c3.782,3.782,6.75,8.184,8.823,13.083c2.143,5.069,3.23,10.457,3.23,16.016s-1.087,10.948-3.231,16.016 C85.848,70.915,82.88,75.317,79.099,79.099L79.099,79.099z"></path>
                  </svg>
            </a></li>
            
            
            <li><a href="mailto:hung@hung-truong.com">
                  <svg id="mail" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M25.5,25.5h49 c0.874,0,1.723,0.188,2.502,0.542L50,57.544L22.998,26.041C23.777,25.687,24.626,25.499,25.5,25.5L25.5,25.5z M19.375,68.375v-36.75 c0-0.128,0.005-0.256,0.014-0.383l17.96,20.953L19.587,69.958C19.448,69.447,19.376,68.916,19.375,68.375L19.375,68.375z M74.5,74.5 h-49c-0.541,0-1.072-0.073-1.583-0.212l17.429-17.429L50,66.956l8.653-10.096l17.429,17.429C75.572,74.427,75.041,74.5,74.5,74.5 L74.5,74.5z M80.625,68.375c0,0.541-0.073,1.072-0.211,1.583L62.652,52.195l17.96-20.953c0.008,0.127,0.014,0.255,0.014,0.383 L80.625,68.375L80.625,68.375z"></path>
                  </svg>
            </a></li>
            
         </ul>
      </div>
   </div>
</div><!-- end .footer -->

   <!-- Add jQuery and other scripts -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/blog"><\/script>')</script>
<script src="/blog/assets/js/dropcap.min.js"></script>
<script src="/blog/assets/js/responsive-nav.min.js"></script>
<script src="/blog/assets/js/scripts.js"></script>


</body>

</html>
