<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <title>Hung Truong: The Blog!</title>

    <!-- Open Graph Meta -->
    <meta content="Hung Truong: The Blog!" property="og:site_name">
    
      <meta content="Hung Truong: The Blog!" property="og:title">
    
    
      <meta content="article" property="og:type">
    
    
      <meta content="I say potato, you say potato..." property="og:description">
    
    
      <meta content="http://www.hung-truong.com//page/4/" property="og:url">
    
    
    
      <meta content="http://www.hung-truong.com//assets/img/danbo.jpg" property="og:image">
    

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@hungtruong">
    <meta name="twitter:creator" content="@hungtruong">
    
      <meta name="twitter:title" content="Hung Truong: The Blog!">
    
    
      <meta name="twitter:url" content="http://www.hung-truong.com//page/4/">
    
    
      <meta name="twitter:description" content="I say potato, you say potato...">
    
    
      <meta name="twitter:image:src" content="http://www.hung-truong.com//assets/img/danbo.jpg">
    


    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/blog/assets/img/favicon.ico" />

    <!-- Come and get me RSS readers -->
    <link rel="alternate" type="application/rss+xml" title="Hung Truong: The Blog!" href="http://www.hung-truong.com//blog/feed.xml" />

    <!-- Stylesheet -->
    <link rel="stylesheet" href="/blog/assets/css/style.css">
    <!--[if IE 8]><link rel="stylesheet" href="/blog/assets/css/ie.css"><![endif]-->
    <link rel="canonical" href="http://www.hung-truong.com//blog/page/4/">

    <!-- Modernizr -->
    <script src="/blog/assets/js/modernizr.custom.15390.js" type="text/javascript"></script>

     <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-58263416-1', 'auto');
ga('send', 'pageview');

</script>
 
</head>


<body>

    <div class="header">
     <div class="container">
         <h1 class="logo"><a href="/blog/">Hung Truong: The Blog!</a></h1>
         <nav class="nav-collapse">
             <ul class="noList">
                 
                 <li class="element first  ">
                     <a href="/blog/index.html">Home</a>
                 </li>
                 
                 <li class="element   ">
                     <a href="/blog/archives">Archives</a>
                 </li>
                 
                 <li class="element   ">
                     <a href="/blog/about">About</a>
                 </li>
                 
                 <li class="element   last">
                     <a href="/blog/contact">Contact</a>
                 </li>
                 
             </ul>
         </nav>
     </div>
 </div><!-- end .header -->


   <div class="content">
      <div class="container">
         <div class="home" id="home">
  <ul class="posts noList">
    
      <li>
        <span class="date">February 25, 2014</span>
        <h3><a class="post-link" href="/blog/2014/02/25/writing-google-glass-apps-with-the-gdk-sneak-peek/">Writing Google Glass Apps With the GDK Sneak Peek</a></h3>
        <p><p>Since the beginning of time, humans have wanted to mount small computers on their heads. In 2013 we got our wish, as Google started releasing Glass onto explorers and developers alike. In November of 2013, Google released a “Sneak Peek” of the GDK, a way to write native code for Google Glass.</p>

<p>While the GDK is still under development and will probably change quite a bit before being finalized, those on the cutting edge will want to familiarize themselves with it.</p>

<p>In this quick start guide, I’ll go through the steps of writing your first GDK app, “Where Am I?” This app will ensure you are never lost. By simply shouting “Okay Glass, where am I?” the app will find your latitude and longitude, and try to find the nearest street address.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>In order to start writing native apps for Google Glass, here’s what you’ll need:</p>

<ul>
  <li>Google Glass! There is currently no way to emulate the device and its sensors, so getting a real device is a must. You can request an invite directly from Google <a href="http://www.google.com/glass/start/how-to-get-one/">here</a>, or search on Twitter for someone with a <a href="https://twitter.com/search?q=google%20glass%20invite&amp;src=typd">spare invite to share</a>.</li>
  <li>ADT – <a href="http://developer.android.com/tools/sdk/eclipse-adt.html">Android Development Tools</a> is basically a plugin for Eclipse that lets you compile and load your native code onto Glass.</li>
  <li>Source Code (optional) – I’ve included the source code for this app on Github <a href="https://github.com/hungtruong/GDK-WhereAmI">here</a>. If you want to follow along without copying and pasting a bunch of code, you can simply skip back and forth by running git commands that I’ll describe later on.</li>
</ul>

<h2 id="getting-started">Getting Started</h2>

<p>Google Glass runs on a special version of Android, “Glass Development Kit Sneak Peek” – a tricked out version of API 15.  You’ll need to download this version with the Android SDK Manager within ADT (you can open it by clicking on the icon of the Android with a blue box and an arrow on it).</p>

<p><a href="/blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-11.28.47-AM.png" rel="lightbox[2771]"><img class="aligncenter size-large wp-image-2773" alt="Glass Sneak Peek" src="/blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-11.28.47-AM.png?resize=604%2C294" width="604" height="294" srcset="/blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-11.28.47-AM.png?resize=1024%2C500 1024w, /blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-11.28.47-AM.png?resize=500%2C244 500w, /blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-11.28.47-AM.png?w=1208 1208w, /blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-11.28.47-AM.png?w=1812 1812w" sizes="(max-width: 604px) 100vw, 604px" data-recalc-dims="1" /></a></p>

<p>Once you’ve done that, you’ll need to create a new Android project with the correct SDK settings. Use API 15 for Minimum and Target SDK, and set “Compile With” to the GDK Sneak Peek.<a href="/blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-12.52.50-PM.png" rel="lightbox[2771]"><img class="aligncenter size-full wp-image-2774" alt="GDK Settings" src="/blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-12.52.50-PM.png?resize=604%2C597" width="604" height="597" srcset="/blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-12.52.50-PM.png?w=753 753w, /blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-12.52.50-PM.png?resize=500%2C494 500w" sizes="(max-width: 604px) 100vw, 604px" data-recalc-dims="1" /></a>Congratulations! You’ve created a project that should run on Google Glass! If you try running the app on your device, it may or may not work, since it won’t have a voice trigger associated with it yet. We’ll add a voice trigger in the next step.</p>

<h2 id="adding-a-voice-trigger">Adding a Voice Trigger</h2>

<p><em>If you’re following along with git, you can type the following command to fill out all the code for this step:</em></p>

<pre>git checkout -f step-1</pre>

<p>Because Google Glass is such a new paradigm for user input, we’ll need to set up a voice trigger to allow the user to start our app. To do this, we’ll add some some strings to our strings.xml and add an xml resource that describes the voice trigger. Finally, we’ll add an intent filter to our AndroidManifest.xml to register the voice command.</p>

<ol>
  <li>In res/values/strings.xml</li>
</ol>

<pre class="lang:default decode:true" title="res/values/strings.xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;

    &lt;string name="app_name"&gt;WhereAmI&lt;/string&gt;
    &lt;string name="action_settings"&gt;Settings&lt;/string&gt;
    &lt;string name="hello_world"&gt;Hello world!&lt;/string&gt;
    &lt;string name="glass_voice_trigger"&gt;where am I?&lt;/string&gt;

&lt;/resources&gt;</pre>

<ol>
  <li>In res/xml/whereami.xml (you can name this file anything as long as you refer to the same file in AndroidManifest.xml</li>
</ol>

<pre class="lang:java decode:true" title="res/xml/whereami.xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;trigger keyword="@string/glass_voice_trigger" /&gt;</pre>

<ol>
  <li>In AndroidManifest.xml:</li>
</ol>

<pre class="lang:java decode:true" title="AndroidManifest.xml">...
            &lt;intent-filter&gt;
                &lt;action
                    android:name="com.google.android.glass.action.VOICE_TRIGGER" /&gt;
            &lt;/intent-filter&gt;
            &lt;meta-data android:name="com.google.android.glass.VoiceTrigger"
                android:resource="@xml/whereami" /&gt;
...</pre>

<p>Now, if you run your code on Glass, you should be able to find the “Where Am I?” command in the Ok, Glass menu!</p>

<p><a href="/blog/wp-content/uploads/2014/01/Glass-Voice-Trigger.png" rel="lightbox[2771]"><img class="aligncenter size-full wp-image-2782" alt="Glass Voice Trigger" src="/blog/wp-content/uploads/2014/01/Glass-Voice-Trigger.png?resize=604%2C347" width="604" height="347" srcset="/blog/wp-content/uploads/2014/01/Glass-Voice-Trigger.png?w=900 900w, /blog/wp-content/uploads/2014/01/Glass-Voice-Trigger.png?resize=500%2C287 500w" sizes="(max-width: 604px) 100vw, 604px" data-recalc-dims="1" /></a></p>

<h2 id="using-glass-cards">Using Glass Cards</h2>

<p>We’ve gotten voice commands working, and that’s half the battle. Next we’ll learn how to use Cards, the native user interface for Glass. We’ll need to remove the existing style, then instantiate a Card object, set up its text and set it as the content view.</p>

<ol>
  <li>Remove the line in AndroidManifest.xml that reads:</li>
</ol>

<pre>android:theme="@style/AppTheme"&gt;</pre>

<ol>
  <li>Import Card from the GDK and create a new <a href="https://developers.google.com/glass/develop/gdk/reference/com/google/android/glass/app/Card">Card</a> instance in OnCreate()</li>
</ol>

<pre class="lang:java decode:true" title="MainActivity.java">...
import android.view.View;
import com.google.android.glass.app.Card;

public class MainActivity extends Activity {
private Card card;
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		card = new Card(this.getApplicationContext());
        card.setText("Getting your location...");
        View cardView = card.toView();
        setContentView(cardView);
...</pre>

<p>If you run the app, should see something like this:</p>

<p><a href="/blog/wp-content/uploads/2014/01/Glass-Card.png" rel="lightbox[2771]"><img class="aligncenter size-full wp-image-2783" alt="Glass Card" src="/blog/wp-content/uploads/2014/01/Glass-Card.png?resize=604%2C342" width="604" height="342" srcset="/blog/wp-content/uploads/2014/01/Glass-Card.png?w=900 900w, /blog/wp-content/uploads/2014/01/Glass-Card.png?resize=500%2C283 500w" sizes="(max-width: 604px) 100vw, 604px" data-recalc-dims="1" /></a></p>

<h2 id="getting-location-and-updating-the-card">Getting Location and Updating the Card</h2>

<p><em>If you’re following along with git, you can type the following command to fill out all the code for this step:</em></p>

<pre>git checkout -f step-2</pre>

<p>Finally, we want to get the Glass’ location and update the card with the appropriate info. Our lost Glass Explorer will be found and all will be well. We’ll do this by requesting location permissions, setting up a LocationManager and handling its callbacks by updating the card with lat long and a geocoded address, if available.</p>

<ol>
  <li>Ask for permissions for user location and internet in AndroidManifest.xml</li>
</ol>

<pre class="lang:java decode:true" title="AndroidManifest.xml">...
    &lt;uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" /&gt;
    &lt;uses-permission
        android:name="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS" /&gt;
    &lt;uses-permission android:name="android.permission.INTERNET" /&gt;
...</pre>

<ol>
  <li>Create a LocationManager that uses certain criteria to figure out which location services it can use on Glass in MainActivity.java</li>
</ol>

<pre class="lang:java decode:true" title="MainActivity.java">...
        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);

        Criteria criteria = new Criteria();
        criteria.setAccuracy(Criteria.ACCURACY_FINE);
        criteria.setAltitudeRequired(true);

        List&lt;String&gt; providers = locationManager.getProviders(
                criteria, true /* enabledOnly */);

        for (String provider : providers) {
            locationManager.requestLocationUpdates(provider, 1000,
                    10, this);
        }
...</pre>

<ol>
  <li>Implement callbacks that will update the card when you get a location update in MainActivity.java</li>
</ol>

<pre class="lang:java decode:true" title="MainActivity.java">@Override
    public void onLocationChanged(Location arg0) {
		//show lat long to user
        String lat = String.valueOf(arg0.getLatitude());
        String lon = String.valueOf(arg0.getLongitude());

        card.setText("your location is " + lat + " " + lon);

        Geocoder geocoder = new Geocoder(this);

        try {
			List&lt;Address&gt; addresses = geocoder.getFromLocation(arg0.getLatitude(), arg0.getLongitude(), 1);
			if(addresses.size() &gt; 0)
			{
				Address address = addresses.get(0);
				String addressString = "";

				for(int i = 0; i &lt; address.getMaxAddressLineIndex(); i++)
				{
					addressString += address.getAddressLine(i) + " ";
				}
			card.setFootnote(addressString);
			}
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

        View cardView = card.toView();
        setContentView(cardView);
	}</pre>

<p>The app should now start getting location updates on the Glass (it can take a while to get a good fix) and update the Card once it finds you. The result should look something like this:</p>

<p><a href="/blog/wp-content/uploads/2014/01/Glass-Card-Complete.png" rel="lightbox[2771]"><img class="aligncenter size-full wp-image-2786" alt="Glass Card Complete" src="/blog/wp-content/uploads/2014/01/Glass-Card-Complete.png?resize=604%2C334" width="604" height="334" srcset="/blog/wp-content/uploads/2014/01/Glass-Card-Complete.png?w=900 900w, /blog/wp-content/uploads/2014/01/Glass-Card-Complete.png?resize=500%2C276 500w" sizes="(max-width: 604px) 100vw, 604px" data-recalc-dims="1" /></a></p>

<p>Congratulations! You’ve finished your first Glass app. Future generations will wonder how they ever knew where they were without a head mounted computer printing out their exact location on the earth into a glowing prism directly above their field of vision at all times!</p>

<p>For more information about the GDK, check out Google’s <a href="https://developers.google.com/glass/develop/gdk/index">official documentation</a>! Glass on!</p>

<p> </p>


          
            
            
            

            
          
          
        </p>
      </li>
    
      <li>
        <span class="date">December 06, 2013</span>
        <h3><a class="post-link" href="/blog/2013/12/06/google-glass-megapost-win-an-invite/">Google Glass Megapost (+ win an invite!)</a></h3>
        <p><p>Here’s a giant post of stuff I’ve been doing with Google Glass! I made a survey, wrote an app and am running a contest, so that’s all bundled into this blog post.</p>

<h2 id="survey">Survey</h2>

<p>I got a Google Glass invite after signing up at <a href="http://www.google.com/glass/start/how-to-get-one/">Google’s official waitlist</a>. After deciding I would go ahead and get one, I was paralyzed by the choice of which color to order. I made a survey that asked participants to rank the five colors in order of awesomeness. The results surprised me. I was leaning towards white (cotton) and sky blue, but everyone seemed to really like tangerine (orange).<figure id="attachment_2761" style="max-width: 604px" class="wp-caption aligncenter"></figure></p>

<p><a href="/blog/wp-content/uploads/2013/12/glass-survey.png" rel="lightbox[2760]"><img class="size-large wp-image-2761" alt="glass survey" src="/blog/wp-content/uploads/2013/12/glass-survey.png?resize=604%2C241" width="604" height="241" srcset="/blog/wp-content/uploads/2013/12/glass-survey.png?resize=1024%2C409 1024w, /blog/wp-content/uploads/2013/12/glass-survey.png?resize=500%2C199 500w, /blog/wp-content/uploads/2013/12/glass-survey.png?w=1236 1236w" sizes="(max-width: 604px) 100vw, 604px" data-recalc-dims="1" /></a>&lt;figcaption class="wp-caption-text"&gt;Tangerine wins by a landslide!&lt;/figcaption&gt;&lt;/figure&gt;</p>

<p>I was going to go against the popular vote and get the white one, but both the white and black ones were out of stock at the time, so I went for the fan favorite. I ended up getting the Tangerine device the day after I ordered it (next day shipping FTW).</p>

<h2 id="glassfart"> GlassFart</h2>

<p>My intention with getting the Google Glass is to try it out and see if I can make anything really cool with the additional sensors and the fact that the device is worn on a person’s head. I was really struggling with what to start working on, and then it hit me: a fart app. I was actually working on a Dragonball Z Scouter app, but that was going to be too complicated. I found that you can insert your own “Okay Glass” prompts to start an app, so I figured I’d make a hello world fart app.</p>

<p>The history of fart apps on advanced mobile operating systems is a long one, so I won’t go over all that. Suffice it to say I am proud to have written the first (as far as I know) native fart app for Google Glass. Here’s a video of me demonstrating it:</p>

<p>Having played around with the GDK a bit, and the device a bit more, I am still not sure if I will keep it. The $1500 price tag is one factor. The public acceptance of the device is another. My opinions on my previous <a href="http://www.hung-truong.com/blog/2013/09/15/impressions-on-google-glass/">Glass</a> post still hold. If anything, the opportunity is definitely worth the $1500 “loan” to Google plus return shipping.</p>

<h2 id="contest">Contest</h2>

<p>Before I even got my first Google Glass invite, I went to a GDG Android meeting in Ann Arbor. The organizer had some spare Glass invites, so I asked for one. I hadn’t heard back about the invite, but after ordering my Glass from my original invites, I got another one from the GDG group’s pool. I figured I’d give it away, and to drum up interest in the fart app, I’m going to make a tweet and ask users to retweet it for a chance to win.</p>

<blockquote class="twitter-tweet" lang="en">
  <p>
    To celebrate my Google Glass fart app, I'm running a contest to win a Glass invite! RT to enter, check <a href="http://t.co/vfT2UtsuSc">http://t.co/vfT2UtsuSc</a> for details.
  </p>
  
  <p>
    &mdash; Hung Truong (@hungtruong) <a href="https://twitter.com/hungtruong/statuses/408993746605203456">December 6, 2013</a>
  </p>
</blockquote>

<p>Here’s some rules:</p>

<ul>
  <li>Enter the contest by retweeting <a href="https://twitter.com/hungtruong/statuses/408993746605203456">this tweet</a>.</li>
  <li>You can only enter once per Twitter account.</li>
  <li>Don’t make multiple Twitter accounts to enter or you’ll be disqualified.</li>
  <li>The contest is for the invite code. You still have to buy the Glass yourself.</li>
  <li>The contest will end on Sunday, Dec 8th at 11:59PM ET.</li>
  <li>The contest winner will be chosen by random and will get a DM with the code (you should also follow me to make sure I can DM you).</li>
  <li>The invite code expires some time on Dec 10th, so you’ll have a couple of days to order it.</li>
  <li>I’m not liable for anything. Like if you’re mad about getting an invite and want to sue me or something.</li>
  <li>If no one enters I’ll probably just tweet out the code and the first person to use it gets it!</li>
</ul>

<p>Here are Google’s rule for eligibility:</p>

<ul>
  <li>be U.S. residents</li>
  <li>be 18 years or older</li>
  <li>purchase Glass</li>
  <li>provide a U.S. shipping address OR pick up their Glass at one of our locations in New York, San Francisco or Los Angeles</li>
</ul>


          
            
            
            

            
          
          
        </p>
      </li>
    
      <li>
        <span class="date">November 21, 2013</span>
        <h3><a class="post-link" href="/blog/2013/11/21/2753/"><3s Threadless for Android Launch!</a></h3>
        <p><p><a href="/blog/wp-content/uploads/2013/11/Screenshot_2013-11-20-19-15-30.jpg" rel="lightbox[2753]"><img src="/blog/wp-content/uploads/2013/11/Screenshot_2013-11-20-19-15-30.jpg?resize=598%2C1024" alt="Panda" width="598" height="1024" class="aligncenter size-large wp-image-2755" srcset="/blog/wp-content/uploads/2013/11/Screenshot_2013-11-20-19-15-30.jpg?resize=598%2C1024 598w, /blog/wp-content/uploads/2013/11/Screenshot_2013-11-20-19-15-30.jpg?resize=350%2C600 350w, /blog/wp-content/uploads/2013/11/Screenshot_2013-11-20-19-15-30.jpg?w=1080 1080w" sizes="(max-width: 598px) 100vw, 598px" data-recalc-dims="1" /></a></p>

<p>For the past few weeks I’ve been learning Android development in order to diversify my skill set a bit. Plus I needed to justify buying a Nexus 7 tablet somehow. I decided to learn a bit using the Big Nerd Ranch book, and once I went through enough examples I was confident enough to attempt recreating my <a href="http://itunes.apple.com/us/app/id403917180?mt=8">Threadless</a> app for <a href="https://play.google.com/store/apps/details?id=com.hung_truong.threadless">Android</a>.</p>

<p>I was planning on reaching feature parity with the iOS app before releasing it, but I decided that a more frequent update cadence is probably better when it’s possible. The Google Play store makes it really easy to alpha and beta test, as well as promote beta builds to production. Rather than taking a week to find out that your app does not meet the requirements of Apple, you can simply push out a build and it’ll be ready in a few hours. This is probably one of the best “features” of being an Android developer.</p>

<p>While Android has its fair share of “WTF” features, I actually kind of like it. I think it’s quickly getting to the point where Android’s advantages (amazing integration with very high quality Google products) will outweigh Apple’s (Super awesome third party applications albeit running in a tightly confined sandbox).</p>


          
            
            
            

            
          
          
        </p>
      </li>
    
      <li>
        <span class="date">November 20, 2013</span>
        <h3><a class="post-link" href="/blog/2013/11/20/design-patterns-ios-and-android-dispatch-queues-and-asynctask/">Design Patterns: iOS and Android &#8211; Dispatch Queues and AsyncTask</a></h3>
        <p><p>For the past few weeks, I’ve been learning Android and porting one of my iOS apps to the platform. While there are many differences between the two platforms, it’s also kind of interesting to see common design patterns between them. I figured I should write up the common design patterns that I notice and maybe help out some iOS developers who are also learning Android like me.</p>

<p>Today I’ll look at doing asynchronous tasks in each platform. While there are many ways of doing this in both platforms, I’ll take a look at Dispatch Queues for iOS and AsyncTask in Android, since that’s what I’ve been using lately.</p>

<p>In iOS, you can use the <code class="highlighter-rouge">dispatch_async</code> call to run code on a background <a href="https://developer.apple.com/library/mac/documentation/General/Conceptual/ConcurrencyProgrammingGuide/OperationQueues/OperationQueues.html#//apple_ref/doc/uid/TP40008091-CH102-SW1">dispatch queue</a>. Say we get an NSArray of JSON objects and want to save them to a Core Data store. We can call dispatch_async on a dispatch queue, process all of the objects and then update the UI by using dispatch_async again on the main queue:</p>

<pre lang="objc">NSArray *stuff = [NSJSONSerialization JSONObjectWithData:responseData ...];
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0), ^{
    //if using core data, set up a new NSManagedObjectContext for this background thread

    for (id *obj in stuff) {
      //do time consuming work here
    }

    dispatch_async(dispatch_get_main_queue(), ^(void){
        //do stuff on UI, send notifications!
        [[NSNotificationCenter defaultCenter] postNotificationName:@"stuffHappenedNotification" object:nil];
    });
});</pre>

<p>In Android, performing a lightweight asynchronous task requires you to subclass <a href="http://developer.android.com/reference/android/os/AsyncTask.html">AsyncTask</a>. I guess I’m using the term “lightweight” loosely because creating a subclass just to do something asynchronously seems a bit heavy, but at least you get to reuse your code!</p>

<p>You must define three generic types which describe what the input is (in this example, a String), the progress type (an Integer) and a result (a Boolean).</p>

<pre lang="java">private class SomeBackgroundTask extends AsyncTask&lt;String, Integer, Boolean&gt; {

  @Override
  protected void onPreExecute() {
    //this is called first; you can use this to set up UI elements like a progress bar
  }

  @Override
  protected Boolean doInBackground(String... response) {
    JSONTokener tokenizer = new JSONTokener(response[0]);
    JSONArray stuff = new JSONArray(tokenizer);
    for(int i = 0; i &lt; root.length(); i++){
      //do time consuming work here
      //the return type is Boolean, but it could really be anything we want
      //we can call publishProgress(Progress...) here to call the onProgressUpdate method below on the ui thread
    }
    return Boolean.TRUE;
  }

  @Override
  protected void onPostExecute(Boolean aBoolean) {
    //this is called with the result of doInBackground as a parameter. this method is also called on the ui thread
  }

  @Override
  protected void onProgressUpdate(Integer... progress) {
    //this is called from doInBackground with the function "publishProgress(Progress...)"
    //I use this method to send a local broadcast intent back to my main activity
  }

}
</pre>

<p>Once you have that AsyncTask set up, you can call</p>

<pre lang="java">new SomeBackgroundTask().execute(yourString);</pre>

<p>to run your asynchronous task. One tricky thing to remember is that execute takes a list of objects and sends it to doInBackground as an array. I’m not BFF with Java so the syntax threw me a bit, but apparently it’s using a feature called <a href="http://docs.oracle.com/javase/1.5.0/docs/guide/language/varargs.html">varargs</a> that’s been in Java for a while now.</p>

<p>That’s all for today. I hope this blog post was useful. I certainly found it useful, since I had to do some research to really understand what the heck I was writing about. I’ll probably write about <a href="https://developer.apple.com/library/ios/documentation/uikit/reference/UITableViewDelegate_Protocol/Reference/Reference.html">UITableViewDelegate</a>/<a href="https://developer.apple.com/library/ios/documentation/uikit/reference/UITableViewDataSource_Protocol/Reference/Reference.html">Datasource</a> vs. <a href="http://developer.android.com/reference/android/widget/ListAdapter.html">ListAdapter</a> next, unless there’s something else that seems more timely.</p>


          
            
            
            

            
          
          
        </p>
      </li>
    
      <li>
        <span class="date">September 15, 2013</span>
        <h3><a class="post-link" href="/blog/2013/09/15/impressions-on-google-glass/">Impressions on Google Glass</a></h3>
        <p><figure id="attachment_2711" style="max-width: 604px" class="wp-caption aligncenter"><a href="/blog/wp-content/uploads/2013/08/Photo-on-9-12-13-at-5.05-PM.jpg" rel="lightbox[2708]"><img src="/blog/wp-content/uploads/2013/08/Photo-on-9-12-13-at-5.05-PM.jpg?resize=604%2C402" alt="Obligatory double-glasses Glasshole shot." width="604" height="402" class="size-large wp-image-2711" srcset="/blog/wp-content/uploads/2013/08/Photo-on-9-12-13-at-5.05-PM.jpg?resize=1024%2C682 1024w, /blog/wp-content/uploads/2013/08/Photo-on-9-12-13-at-5.05-PM.jpg?resize=500%2C333 500w, /blog/wp-content/uploads/2013/08/Photo-on-9-12-13-at-5.05-PM.jpg?w=1080 1080w" sizes="(max-width: 604px) 100vw, 604px" data-recalc-dims="1" /></a><figcaption class="wp-caption-text">Obligatory double-glasses Glasshole shot.</figcaption></figure>

<p>I had a chance to play around with Google Glass Explorer Edition via <a href="http://thenewfoundry.com/">my employer</a>. I was able to successfully hook it up to my personal Google account, contrary to stuff I’ve read about the Explorer program not allowing loans, etc. If there’s a specific policy behind that, it doesn’t seem to be enforced on a technical level.</p>

<p>Anyway, I figured I should write down some of my initial impressions on the thing. It’s always interesting to look back and see how well I did in my predictions, like when I thought <a href="http://www.hung-truong.com/blog/2009/03/12/twitter-i-hardly-know-her/">Twitter was just for narcissists</a> (not sure I was wrong on that one).</p>

<p>The two strong feelings I have from Google Glass are that I wish it was less visible (to others) and I think it will greatly improve on video and photo sharing.</p>

<p>While I understand that technology can work as a fashion accessory (see anyone who owns an iPhone), I also feel like it shouldn’t burden the user with its outward appearance. Everyone writes about how Google Glass will create some kind of panopticon state, but the one wearing them is really the one who feels watched. I once tried walking to get my mail while wearing the gadget, and felt super awkward as I said hi to a neighbor. The awkwardness could have also had something to do with the fact that I have to wear the Google Glass over my normal glasses, which looks super dumb.</p>

<p>On a positive note, I think the ability to take first person videos is going to be the killer feature of Google Glass, if one ends up existing. I took a few videos of myself making dinner, which aren’t really that interesting now, but I can see a sort of lifestream genre bubble up from taking short videos of doing really mundane stuff day to day. Here’s a sample video I took:</p>

<p>As far as developing for the Glass, I found that the <a href="https://developers.google.com/glass/about">Google Mirror API</a> is a bit lacking if you don’t already have some existing app you’d like to integrate. It’s basically glorified push notifications with a few extra location features built in. As an Android noob, I haven’t really pushed anything interesting to the Glass device yet in terms of native apps (just the Hello World one and a few samples). I’d wait for the official GDK to start developing in earnest, and maybe in the meantime, learn Android.</p>

<p>I had some mixed experiences with the Glass, overall. While the technology is neat, I feel there are many social hurdles that the device must pass before the thing can take off. Remember those Bluetooth headsets that you can wear on your ear? Google Glass is basically twice as useful, yet also twice as awkward. I think that a lot of the awkwardness will go away once sub-vocal microphone technology advances to the consumer level (think Metal Gear Solid). Then all Glass will need is a makeover to disguise the camera and screen into a normal set of glasses. Once the technology becomes outwardly invisible, the technology will be able to speak for itself.</p>

<p>Until either the technology makes itself less conspicuous or society decides that it’s socially acceptable, Google Glass wearers will all look like <a href="http://i.imgur.com/jXf8dR3.jpg" rel="lightbox[2708]">this guy</a>.</p>


          
            
            
            

            
          
          
        </p>
      </li>
    
  </ul>
  <!-- Pagination links -->
  <div class="pagination">
    
      <a href="/blog/page/3/" class="previous button__outline">Newer Posts</a>
    
    
      <a href="/blog/page/5/" class="next button__outline">Older Posts</a>
    
  </div>
</div>

      </div>
   </div><!-- end .content -->

   <div class="footer">
   <div class="container">
      <p class="copy">&copy; 2018 <a href="http://www.hung-truong.com/blog/">Hung Truong</a></p>

      <div class="footer-links">
         <ul class="noList">
            
            
            <li><a href="https://twitter.com/hungtruong">
                  <svg id="twitter" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M99.001,19.428c-3.606,1.608-7.48,2.695-11.547,3.184c4.15-2.503,7.338-6.466,8.841-11.189 c-3.885,2.318-8.187,4-12.768,4.908c-3.667-3.931-8.893-6.387-14.676-6.387c-11.104,0-20.107,9.054-20.107,20.223 c0,1.585,0.177,3.128,0.52,4.609c-16.71-0.845-31.525-8.895-41.442-21.131C6.092,16.633,5.1,20.107,5.1,23.813 c0,7.017,3.55,13.208,8.945,16.834c-3.296-0.104-6.397-1.014-9.106-2.529c-0.002,0.085-0.002,0.17-0.002,0.255 c0,9.799,6.931,17.972,16.129,19.831c-1.688,0.463-3.463,0.71-5.297,0.71c-1.296,0-2.555-0.127-3.783-0.363 c2.559,8.034,9.984,13.882,18.782,14.045c-6.881,5.424-15.551,8.657-24.971,8.657c-1.623,0-3.223-0.096-4.796-0.282 c8.898,5.738,19.467,9.087,30.82,9.087c36.982,0,57.206-30.817,57.206-57.543c0-0.877-0.02-1.748-0.059-2.617 C92.896,27.045,96.305,23.482,99.001,19.428z"></path>
                  </svg>
            </a></li>
            
            
            <li><a href="https://github.com/hungtruong">
                  <svg id="github" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M79.099,79.099 c-3.782,3.782-8.184,6.75-13.083,8.823c-1.245,0.526-2.509,0.989-3.79,1.387v-7.344c0-3.86-1.324-6.699-3.972-8.517 c1.659-0.16,3.182-0.383,4.57-0.67c1.388-0.287,2.855-0.702,4.402-1.245c1.547-0.543,2.935-1.189,4.163-1.938 c1.228-0.75,2.409-1.723,3.541-2.919s2.082-2.552,2.847-4.067s1.372-3.334,1.818-5.455c0.446-2.121,0.67-4.458,0.67-7.01 c0-4.945-1.611-9.155-4.833-12.633c1.467-3.828,1.308-7.991-0.478-12.489l-1.197-0.143c-0.829-0.096-2.321,0.255-4.474,1.053 c-2.153,0.798-4.57,2.105-7.249,3.924c-3.797-1.053-7.736-1.579-11.82-1.579c-4.115,0-8.039,0.526-11.772,1.579 c-1.69-1.149-3.294-2.097-4.809-2.847c-1.515-0.75-2.727-1.26-3.637-1.532c-0.909-0.271-1.754-0.439-2.536-0.503 c-0.782-0.064-1.284-0.079-1.507-0.048c-0.223,0.031-0.383,0.064-0.478,0.096c-1.787,4.53-1.946,8.694-0.478,12.489 c-3.222,3.477-4.833,7.688-4.833,12.633c0,2.552,0.223,4.889,0.67,7.01c0.447,2.121,1.053,3.94,1.818,5.455 c0.765,1.515,1.715,2.871,2.847,4.067s2.313,2.169,3.541,2.919c1.228,0.751,2.616,1.396,4.163,1.938 c1.547,0.543,3.014,0.957,4.402,1.245c1.388,0.287,2.911,0.511,4.57,0.67c-2.616,1.787-3.924,4.626-3.924,8.517v7.487 c-1.445-0.43-2.869-0.938-4.268-1.53c-4.899-2.073-9.301-5.041-13.083-8.823c-3.782-3.782-6.75-8.184-8.823-13.083 C9.934,60.948,8.847,55.56,8.847,50s1.087-10.948,3.231-16.016c2.073-4.899,5.041-9.301,8.823-13.083s8.184-6.75,13.083-8.823 C39.052,9.934,44.44,8.847,50,8.847s10.948,1.087,16.016,3.231c4.9,2.073,9.301,5.041,13.083,8.823 c3.782,3.782,6.75,8.184,8.823,13.083c2.143,5.069,3.23,10.457,3.23,16.016s-1.087,10.948-3.231,16.016 C85.848,70.915,82.88,75.317,79.099,79.099L79.099,79.099z"></path>
                  </svg>
            </a></li>
            
            
            <li><a href="mailto:hung@hung-truong.com">
                  <svg id="mail" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M25.5,25.5h49 c0.874,0,1.723,0.188,2.502,0.542L50,57.544L22.998,26.041C23.777,25.687,24.626,25.499,25.5,25.5L25.5,25.5z M19.375,68.375v-36.75 c0-0.128,0.005-0.256,0.014-0.383l17.96,20.953L19.587,69.958C19.448,69.447,19.376,68.916,19.375,68.375L19.375,68.375z M74.5,74.5 h-49c-0.541,0-1.072-0.073-1.583-0.212l17.429-17.429L50,66.956l8.653-10.096l17.429,17.429C75.572,74.427,75.041,74.5,74.5,74.5 L74.5,74.5z M80.625,68.375c0,0.541-0.073,1.072-0.211,1.583L62.652,52.195l17.96-20.953c0.008,0.127,0.014,0.255,0.014,0.383 L80.625,68.375L80.625,68.375z"></path>
                  </svg>
            </a></li>
            
         </ul>
      </div>
   </div>
</div><!-- end .footer -->

   <!-- Add jQuery and other scripts -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/blog"><\/script>')</script>
<script src="/blog/assets/js/dropcap.min.js"></script>
<script src="/blog/assets/js/responsive-nav.min.js"></script>
<script src="/blog/assets/js/scripts.js"></script>


</body>

</html>
