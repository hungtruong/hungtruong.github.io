<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <title>Hung Truong: The Blog!</title>

    <!-- Open Graph Meta -->
    <meta content="Hung Truong: The Blog!" property="og:site_name">
    
      <meta content="Hung Truong: The Blog!" property="og:title">
    
    
      <meta content="article" property="og:type">
    
    
      <meta content="I say potato, you say potato..." property="og:description">
    
    
      <meta content="http://www.hung-truong.com//page/12/" property="og:url">
    
    
    
      <meta content="http://www.hung-truong.com//assets/img/danbo.jpg" property="og:image">
    

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@hungtruong">
    <meta name="twitter:creator" content="@hungtruong">
    
      <meta name="twitter:title" content="Hung Truong: The Blog!">
    
    
      <meta name="twitter:url" content="http://www.hung-truong.com//page/12/">
    
    
      <meta name="twitter:description" content="I say potato, you say potato...">
    
    
      <meta name="twitter:image:src" content="http://www.hung-truong.com//assets/img/danbo.jpg">
    


    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/blog/assets/img/favicon.ico" />

    <!-- Come and get me RSS readers -->
    <link rel="alternate" type="application/rss+xml" title="Hung Truong: The Blog!" href="http://www.hung-truong.com//blog/feed.xml" />

    <!-- Stylesheet -->
    <link rel="stylesheet" href="/blog/assets/css/style.css">
    <!--[if IE 8]><link rel="stylesheet" href="/blog/assets/css/ie.css"><![endif]-->
    <link rel="canonical" href="http://www.hung-truong.com//blog/page/12/">

    <!-- Modernizr -->
    <script src="/blog/assets/js/modernizr.custom.15390.js" type="text/javascript"></script>

     <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-58263416-1', 'auto');
ga('send', 'pageview');

</script>
 
</head>


<body>

    <div class="header">
     <div class="container">
         <h1 class="logo"><a href="/blog/">Hung Truong: The Blog!</a></h1>
         <nav class="nav-collapse">
             <ul class="noList">
                 
                 <li class="element first  ">
                     <a href="/blog/index.html">Home</a>
                 </li>
                 
                 <li class="element   ">
                     <a href="/blog/archives">Archives</a>
                 </li>
                 
                 <li class="element   ">
                     <a href="/blog/about">About</a>
                 </li>
                 
                 <li class="element   last">
                     <a href="/blog/contact">Contact</a>
                 </li>
                 
             </ul>
         </nav>
     </div>
 </div><!-- end .header -->


   <div class="content">
      <div class="container">
         <div class="home" id="home">
  <ul class="posts noList">
    
      <li>
        <span class="date">March 14, 2011</span>
        <h3><a class="post-link" href="/blog/2011/03/14/note-to-myself-about-uisplitviewcontroller-and-auto-rotation/">Note to Myself about UISplitViewController and Auto-Rotation</a></h3>
        <p><p><a href="/blog/wp-content/uploads/2011/03/fuuuuu.jpg" rel="lightbox[2389]"><img src="/blog/wp-content/uploads/2011/03/fuuuuu-e1300154340809.jpg?resize=268%2C343" alt="" title="fuuuuu" width="268" height="343" class="aligncenter size-full wp-image-2391" data-recalc-dims="1" /></a></p>

<p>In order to prevent my future self from wasting like, 2 hours fucking around with UISplitViewController getting it to auto-rotate its subviews, here’s a little post!</p>

<p>Most of the time, UISplitViewController doesn’t want to rotate because you didn’t set it as the root subview of the Window. This is pretty well documented on StackOverflow, etc. I thought this was why my splitviewblahblahblah wasn’t rotating. It turns out that, according to Apple’s documentation,</p>

<blockquote>
  <p>A split view controller relies on its two view controllers to determine whether interface orientation changes should be made. If one or both of the view controllers do not support the new orientation, no change is made. This is true even in portrait mode, where the first view controller is not displayed. Therefore, you must override the shouldAutorotateToInterfaceOrientation: method for both view controllers and return YES for all supported orientations.</p>
</blockquote>

<p>The key here is that the view controller wasn’t autorotating because the subviews did not answer “YES!!!” (exclamation points added by me) to shouldAutoRotateToInterfaceOrientation. I was fucking around with the Split View Controller in Interface Builder (and later programmatically) to no avail. Adding the stupid autorotate thing to yes in the subviews made it work (shouldn’t it default to YES!?!??!).</p>

<p>Okay, lesson learned. Just don’t forget this next time, Hung!</p>


          
            
            
            

            
          
          
        </p>
      </li>
    
      <li>
        <span class="date">February 23, 2011</span>
        <h3><a class="post-link" href="/blog/2011/02/23/porting-mapskrieg-to-app-engine/">Porting Mapskrieg to App Engine</a></h3>
        <p><p><a href="/blog/wp-content/uploads/2011/02/appengine_lowres.gif" rel="lightbox[2380]"><img src="/blog/wp-content/uploads/2011/02/appengine_lowres.gif?resize=142%2C109" alt="" title="appengine_lowres" width="142" height="109" class="aligncenter size-full wp-image-2381" data-recalc-dims="1" /></a></p>

<p>Lately I’ve been playing around a lot with Google App Engine. I think it’s finally at a point where it makes sense to develop for it, and it can be fun and profitable to do so. For example, I wrote Instascriber on App Engine, and so far it has cost me a few pennies in CPU cycles (and like $2 for a domain name or something).</p>

<p>Playing around with memcaching and stuff with Instascriber has led me to become a little obsessed with efficiency (not that I wasn’t already). I took a look at <a href="http://www.mapskrieg.com/">Mapskrieg</a> and found that it was performing pretty slowly. My Google Webmaster Tools thing was saying it took on average 6-8 seconds to load! I wanted to decrease that number, and I figured I could make it work on App Engine, so I started working on it last week.</p>

<p>I modified the parser I use to grab craigslist listings to also send them to Mapskrieg. Then I basically rewrote all of the logic that existed in PHP and ported it over to App Engine. This took a little while but it wasn’t too difficult since Mapskrieg is a pretty simple web app. I hardly changed any code in the Maps API implementation, though I’m thinking of moving to v3 (which is apparently supposed to be faster).</p>

<p>I just switched out the hosting from my MediaTemple PHP based host to the Google App Engine based one. So far the results look good. I think Mapskrieg is faster in terms of response time and the caching is definitely smarter than it was before (a memcache that only gets cleared when the content in it changes versus a time based cache expiration).</p>

<p>I’m going to watch closely to make sure nothing got borked in the transition, but so far so good. If I can keep Mapskrieg on App Engine, I might downgrade the MediaTemple server to save some money and maybe eventually move other services to App Engine as well.</p>

<p>One funny thing I noticed was the pricing plan for App Engine. I’m currently pruning listings from the database when they get too old or move past the limit of listings per listing type (because I’ll never show them). This is actually older behavior from when I had listing info in MySQL. Back then, the size of the database would affect the performance of selecting rows. Google’s datastore apparently does not get slower with respect to size. This is actually pretty awesome.</p>

<p>The weird thing is that adding and removing datastore objects costs quite a lot in CPU time. Additional CPU time past 6.5 hours is $.10 an hour. Storage, on the other hand, is .$01 per 2 gigabytes per day. From my usage, I am predicting that the CPU cycles that I would use to trim the datastore listings would actually cost more than just leaving them in the datastore and paying for storage. Is that insane or what? I still have to test some things out, but it kind of surprises me that storage would be that much cheaper than the CPU cycles to remove something.</p>


          
            
            
            

            
          
          
        </p>
      </li>
    
      <li>
        <span class="date">February 16, 2011</span>
        <h3><a class="post-link" href="/blog/2011/02/16/greplin-programming-challenge/">Greplin Programming Challenge</a></h3>
        <p><p><a href="/blog/wp-content/uploads/2011/02/greplin.png" rel="lightbox[2375]"><img src="/blog/wp-content/uploads/2011/02/greplin.png?resize=442%2C136" alt="" title="greplin" width="442" height="136" class="aligncenter size-full wp-image-2377" data-recalc-dims="1" /></a></p>

<p>I had some spare time on Monday and just read about Greplin getting some funding (and I guess they just went out of private beta today), so I did the <a href="http://challenge.greplin.com/">Greplin Programming Challenge</a>.</p>

<p>Unlike many programming challenges, the problems in this one were pretty easy to solve. I think a lot of people on Hacker News complained that you could basically brute force them into submission. For example, one question is finding a prime Fibonacci number. I’m sure there’s super smart ways to do it but I just iterated through Fibs and then ran a really slow primeness function on each one. It worked eventually!</p>

<p>I finished the challenge and sent an email to the Greplin guys, since the challenge instructed me to do so. After reading through some of their site, the challenge actually started to make more sense to me. From their <a href="https://www.greplin.com/jobs">jobs page</a>:</p>

<blockquote>
  <p>You should know the fastest way to do something – which sometimes means the least CPU cycles and sometimes means the least programmer cycles.</p>
</blockquote>

<p>Basically, you could figure out the most efficient way to do the challenges (from a computational perspective) at a cost to programming time. Or you could recognize that N was trivially large for all of the challenge cases and just code something really simple up and get the answer. I picked the latter. Greplin is probably looking for both types, so I think they did a good job designing the challenge.</p>

<p>In other news, I signed up for their service and tried it out. It seems like a really cool concept and I like it so far. I kind of wish there was a roll your own version though. I dunno if I can trust Greplin with all of my innermost secrets… It’s bad enough that Google has all of your email; Greplin can have that plus your tweets and Facebook stuff too!</p>


          
            
            
            

            
          
          
        </p>
      </li>
    
      <li>
        <span class="date">February 07, 2011</span>
        <h3><a class="post-link" href="/blog/2011/02/07/threadless-shirt-tweet/">Threadless Shirt &#8211; Tweet</a></h3>
        <p><p><a href="http://www.threadless.com/product/2716/Tweet?streetteam=notoupee"><img src="/blog/wp-content/uploads/2011/02/Threadless-Tweet.jpg?resize=500%2C361" alt="" title="Threadless-Tweet" width="500" height="361" class="aligncenter size-medium wp-image-2368" srcset="/blog/wp-content/uploads/2011/02/Threadless-Tweet.jpg?resize=500%2C361 500w, /blog/wp-content/uploads/2011/02/Threadless-Tweet.jpg?w=636 636w" sizes="(max-width: 500px) 100vw, 500px" data-recalc-dims="1" /></a></p>

<p>I saw this new shirt on <a href="http://www.threadless.com/?streetteam=notoupee">Threadless</a> and was surprised it hadn’t already done! Birds have probably known about Twitter for much longer than we have (early bird adopters). I like the fact that the Twitter interface has been recreated in a bird speech bubble, but I have a feeling the shirt will be outdated pretty soon (like when Twitter decides to come out with New New Twitter).</p>

<p>Get <a href="http://www.threadless.com/product/2716/Tweet?streetteam=notoupee">Tweet</a> before it’s outdated!</p>


          
            
            
            

            
          
          
        </p>
      </li>
    
      <li>
        <span class="date">February 07, 2011</span>
        <h3><a class="post-link" href="/blog/2011/02/07/iad-vs-admob-clicks-fill-rate-impressions-ecpm-and-revenue/">iAd Vs. AdMob &#8211; Clicks, Fill Rate, Impressions, eCPM and Revenue</a></h3>
        <p><p>About two weeks ago I updated one of my apps to use AdMob mobile ads when iAd fails to deliver (pretty damn often). Instead of swapping out iAd for AdMob, I use the iAd “didFailToReceiveAdWithError” delegate method to request an AdMob ad when iAd fails. This means that AdMob shouldn’t take any income away from iAd, but only supplement it. I thought I’d take a look at the stats and compare the performance of the two ad networks on my app.</p>

<p>(The following numbers I’m referring to are from the time period from 1/25 to 2/7)</p>

<p>For an idea of scale, my app, <a href="http://itunes.apple.com/us/app/anime-nano/id385697452?mt=8">Anime Nano</a>, gets about 600 iAd requests per day. My app analytics software (Flurry) is saying I’m getting about 600 sessions per day. The thing is that about 1/5 of those sessions are on the iPad (and I haven’t enabled iAd on the iPad yet), so I think that on average, the iPhone apps are making a little more than one iAd request per session.</p>

<p><a href="/blog/wp-content/uploads/2011/02/iadstats.png" rel="lightbox[2350]"><img src="/blog/wp-content/uploads/2011/02/iadstats.png?resize=500%2C47" alt="" title="iAd Stats" width="500" height="47" class="aligncenter size-medium wp-image-2352" srcset="/blog/wp-content/uploads/2011/02/iadstats.png?resize=500%2C47 500w, /blog/wp-content/uploads/2011/02/iadstats.png?w=890 890w" sizes="(max-width: 500px) 100vw, 500px" data-recalc-dims="1" /></a></p>

<p>Despite the fairly healthy rate of requests that I’m getting, iAds are only getting sent about 15% of the time. This percentage is what’s known as the “fill rate.” This is also what most developers complain about being too low. The clickthrough rate is actually pretty good at 0.81%.</p>

<p><a href="/blog/wp-content/uploads/2011/02/admobstats.png" rel="lightbox[2350]"><img src="/blog/wp-content/uploads/2011/02/admobstats.png?resize=500%2C42" alt="" title="AdMob Stats" width="500" height="42" class="aligncenter size-medium wp-image-2354" srcset="/blog/wp-content/uploads/2011/02/admobstats.png?resize=500%2C42 500w, /blog/wp-content/uploads/2011/02/admobstats.png?w=948 948w" sizes="(max-width: 500px) 100vw, 500px" data-recalc-dims="1" /></a></p>

<p>When iAd fails to deliver (85% of the time), I fall back to AdMob. The fill rate for AdMob is a high 88%, though the past few days it’s been closer to 99%. The CTR, however, is a fairly low 0.25%, which is less than half of iAd. This is partly due to the fact that AdMob ads refresh more often, so the number of impressions is higher.</p>

<p>I’m going to describe my revenue in terms of percentages here since ad platforms typically don’t like it when publishers publish their income. Not sure if that’s changed lately, but whatever! In the time period from 1/25/2011 to 2/7/2011, I made 2.3x more with iAd than AdMob, even with the super low fill rate (and impressions) of iAd. This is pretty interesting since iAd only shows up 15% of the time. There were actually a few days where AdMob beat iAd, but there were a couple of days where iAd made a killing (relatively), probably from those super awesome interactive ads which I still haven’t experienced firsthand yet.</p>

<p>For now, I’m content with the fill rate of AdMob, though it sort of pains me to see such a low click rate and revenue per click. Something tells me that if AdMob worked harder at increasing ad quality (like iAd), they’d be able to charge more and their advertisers would probably see a better return on investment. Most of the advertisers don’t even bother to use an image ad, which I assume would increase the clickthrough rate.</p>

<p>I noticed something really strange when looking at ads on my app. There’s no way for advertisers to disable ads on devices that already have the app installed. I keep seeing Amazon Kindle ads on both my iPad and my iPhone that already have the application installed. As a developer, I know there’s a way to prevent those ads from showing by detecting whether the app is installed at runtime. I think this strange behavior happens on both iAd and AdMob. If anyone from either organization is reading this, <a href="http://www.hung-truong.com/blog/about/">contact me</a>!</p>

<p>As far as the future of ads in mobile apps goes, I hope Apple will continue working on increasing the fill rate, and that AdMob tries to increase relevancy and ad quality. Right now it’s really frustrating to see my “inventory” not live up to its revenue potential.</p>


          
            
            
            

            
          
          
        </p>
      </li>
    
  </ul>
  <!-- Pagination links -->
  <div class="pagination">
    
      <a href="/blog/page/11/" class="previous button__outline">Newer Posts</a>
    
    
      <a href="/blog/page/13/" class="next button__outline">Older Posts</a>
    
  </div>
</div>

      </div>
   </div><!-- end .content -->

   <div class="footer">
   <div class="container">
      <p class="copy">&copy; 2018 <a href="http://www.hung-truong.com/blog/">Hung Truong</a></p>

      <div class="footer-links">
         <ul class="noList">
            
            
            <li><a href="https://twitter.com/hungtruong">
                  <svg id="twitter" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M99.001,19.428c-3.606,1.608-7.48,2.695-11.547,3.184c4.15-2.503,7.338-6.466,8.841-11.189 c-3.885,2.318-8.187,4-12.768,4.908c-3.667-3.931-8.893-6.387-14.676-6.387c-11.104,0-20.107,9.054-20.107,20.223 c0,1.585,0.177,3.128,0.52,4.609c-16.71-0.845-31.525-8.895-41.442-21.131C6.092,16.633,5.1,20.107,5.1,23.813 c0,7.017,3.55,13.208,8.945,16.834c-3.296-0.104-6.397-1.014-9.106-2.529c-0.002,0.085-0.002,0.17-0.002,0.255 c0,9.799,6.931,17.972,16.129,19.831c-1.688,0.463-3.463,0.71-5.297,0.71c-1.296,0-2.555-0.127-3.783-0.363 c2.559,8.034,9.984,13.882,18.782,14.045c-6.881,5.424-15.551,8.657-24.971,8.657c-1.623,0-3.223-0.096-4.796-0.282 c8.898,5.738,19.467,9.087,30.82,9.087c36.982,0,57.206-30.817,57.206-57.543c0-0.877-0.02-1.748-0.059-2.617 C92.896,27.045,96.305,23.482,99.001,19.428z"></path>
                  </svg>
            </a></li>
            
            
            <li><a href="https://github.com/hungtruong">
                  <svg id="github" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M79.099,79.099 c-3.782,3.782-8.184,6.75-13.083,8.823c-1.245,0.526-2.509,0.989-3.79,1.387v-7.344c0-3.86-1.324-6.699-3.972-8.517 c1.659-0.16,3.182-0.383,4.57-0.67c1.388-0.287,2.855-0.702,4.402-1.245c1.547-0.543,2.935-1.189,4.163-1.938 c1.228-0.75,2.409-1.723,3.541-2.919s2.082-2.552,2.847-4.067s1.372-3.334,1.818-5.455c0.446-2.121,0.67-4.458,0.67-7.01 c0-4.945-1.611-9.155-4.833-12.633c1.467-3.828,1.308-7.991-0.478-12.489l-1.197-0.143c-0.829-0.096-2.321,0.255-4.474,1.053 c-2.153,0.798-4.57,2.105-7.249,3.924c-3.797-1.053-7.736-1.579-11.82-1.579c-4.115,0-8.039,0.526-11.772,1.579 c-1.69-1.149-3.294-2.097-4.809-2.847c-1.515-0.75-2.727-1.26-3.637-1.532c-0.909-0.271-1.754-0.439-2.536-0.503 c-0.782-0.064-1.284-0.079-1.507-0.048c-0.223,0.031-0.383,0.064-0.478,0.096c-1.787,4.53-1.946,8.694-0.478,12.489 c-3.222,3.477-4.833,7.688-4.833,12.633c0,2.552,0.223,4.889,0.67,7.01c0.447,2.121,1.053,3.94,1.818,5.455 c0.765,1.515,1.715,2.871,2.847,4.067s2.313,2.169,3.541,2.919c1.228,0.751,2.616,1.396,4.163,1.938 c1.547,0.543,3.014,0.957,4.402,1.245c1.388,0.287,2.911,0.511,4.57,0.67c-2.616,1.787-3.924,4.626-3.924,8.517v7.487 c-1.445-0.43-2.869-0.938-4.268-1.53c-4.899-2.073-9.301-5.041-13.083-8.823c-3.782-3.782-6.75-8.184-8.823-13.083 C9.934,60.948,8.847,55.56,8.847,50s1.087-10.948,3.231-16.016c2.073-4.899,5.041-9.301,8.823-13.083s8.184-6.75,13.083-8.823 C39.052,9.934,44.44,8.847,50,8.847s10.948,1.087,16.016,3.231c4.9,2.073,9.301,5.041,13.083,8.823 c3.782,3.782,6.75,8.184,8.823,13.083c2.143,5.069,3.23,10.457,3.23,16.016s-1.087,10.948-3.231,16.016 C85.848,70.915,82.88,75.317,79.099,79.099L79.099,79.099z"></path>
                  </svg>
            </a></li>
            
            
            <li><a href="mailto:hung@hung-truong.com">
                  <svg id="mail" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M25.5,25.5h49 c0.874,0,1.723,0.188,2.502,0.542L50,57.544L22.998,26.041C23.777,25.687,24.626,25.499,25.5,25.5L25.5,25.5z M19.375,68.375v-36.75 c0-0.128,0.005-0.256,0.014-0.383l17.96,20.953L19.587,69.958C19.448,69.447,19.376,68.916,19.375,68.375L19.375,68.375z M74.5,74.5 h-49c-0.541,0-1.072-0.073-1.583-0.212l17.429-17.429L50,66.956l8.653-10.096l17.429,17.429C75.572,74.427,75.041,74.5,74.5,74.5 L74.5,74.5z M80.625,68.375c0,0.541-0.073,1.072-0.211,1.583L62.652,52.195l17.96-20.953c0.008,0.127,0.014,0.255,0.014,0.383 L80.625,68.375L80.625,68.375z"></path>
                  </svg>
            </a></li>
            
         </ul>
      </div>
   </div>
</div><!-- end .footer -->

   <!-- Add jQuery and other scripts -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/blog"><\/script>')</script>
<script src="/blog/assets/js/dropcap.min.js"></script>
<script src="/blog/assets/js/responsive-nav.min.js"></script>
<script src="/blog/assets/js/scripts.js"></script>


</body>

</html>
