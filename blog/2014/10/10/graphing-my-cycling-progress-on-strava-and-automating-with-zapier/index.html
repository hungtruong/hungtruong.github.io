<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <title>Graphing My Cycling Progress on Strava and Automating With Zapier</title>

    <!-- Open Graph Meta -->
    <meta content="Hung Truong: The Blog!" property="og:site_name">
    
      <meta content="Graphing My Cycling Progress on Strava and Automating With Zapier" property="og:title">
    
    
      <meta content="article" property="og:type">
    
    
      <meta content="I say potato, you say potato..." property="og:description">
    
    
      <meta content="http://www.hung-truong.com//2014/10/10/graphing-my-cycling-progress-on-strava-and-automating-with-zapier/" property="og:url">
    
    
      <meta content="2014-10-10T05:03:32-07:00" property="article:published_time">
      <meta content="http://www.hung-truong.com//about/" property="article:author">
    
    
      <meta content="http://www.hung-truong.com//assets/img/danbo.jpg" property="og:image">
    

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@hungtruong">
    <meta name="twitter:creator" content="@hungtruong">
    
      <meta name="twitter:title" content="Graphing My Cycling Progress on Strava and Automating With Zapier">
    
    
      <meta name="twitter:url" content="http://www.hung-truong.com//2014/10/10/graphing-my-cycling-progress-on-strava-and-automating-with-zapier/">
    
    
      <meta name="twitter:description" content="I say potato, you say potato...">
    
    
      <meta name="twitter:image:src" content="http://www.hung-truong.com//assets/img/danbo.jpg">
    


    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/blog/assets/img/favicon.ico" />

    <!-- Come and get me RSS readers -->
    <link rel="alternate" type="application/rss+xml" title="Hung Truong: The Blog!" href="http://www.hung-truong.com//blog/feed.xml" />

    <!-- Stylesheet -->
    <link rel="stylesheet" href="/blog/assets/css/style.css">
    <!--[if IE 8]><link rel="stylesheet" href="/blog/assets/css/ie.css"><![endif]-->
    <link rel="canonical" href="http://www.hung-truong.com//blog/2014/10/10/graphing-my-cycling-progress-on-strava-and-automating-with-zapier/">

    <!-- Modernizr -->
    <script src="/blog/assets/js/modernizr.custom.15390.js" type="text/javascript"></script>

     <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-248124-2', 'auto');
ga('send', 'pageview');

</script>
 
</head>


<body>

    <div class="header">
     <div class="container">
         <h1 class="logo"><a href="/blog/">Hung Truong: The Blog!</a></h1>
         <nav class="nav-collapse">
             <ul class="noList">
                 
                 <li class="element first  ">
                     <a href="/blog/index.html">Home</a>
                 </li>
                 
                 <li class="element   ">
                     <a href="/blog/archives">Archives</a>
                 </li>
                 
                 <li class="element   ">
                     <a href="/blog/about">About</a>
                 </li>
                 
                 <li class="element   last">
                     <a href="/blog/contact">Contact</a>
                 </li>
                 
             </ul>
         </nav>
     </div>
 </div><!-- end .header -->


   <div class="content">
      <div class="container">
         <div class="post">
  
  <h1 class="postTitle">Graphing My Cycling Progress on Strava and Automating With Zapier</h1>
  <p class="meta">October 10, 2014 | <span class="time">4</span> Minute Read</p>
  
  <p>Since I moved to a new home that’s closer to work, I’ve been riding my bike to commute at least a few times each week. My commute to work is very easy as it’s almost completely downhill. I pay for it on the way back, though. I’ve been trying to get healthier, so commuting with my bike has definitely become a priority. In addition to having fun, I’d also like to motivate myself to ride more often and push myself to get better at it (especially the uphill part).
<!--more-->
I’ve been using <a href="http://www.strava.com/">Strava</a> to track my rides, and it turns out that my ride home includes a user-generated segment that automatically tracks my performance when I’m going uphill on Liberty. The first time I rode, it took 10:44 for me to complete. My best time so far is 6:58. The cool part is that I’m able to see the progress I’ve made, and I really do feel accomplished when I beat one of my best times. Here’s the view I’m using to see what my times are:</p>

<p><a href="/blog/wp-content/uploads/2014/10/Stava-Segment.png" rel="lightbox[2887]"><img class="aligncenter size-medium wp-image-2891" src="/blog/wp-content/uploads/2014/10/Stava-Segment.png?resize=500%2C299" alt="Stava Segment" width="500" height="299" srcset="/blog/wp-content/uploads/2014/10/Stava-Segment.png?resize=500%2C299 500w, /blog/wp-content/uploads/2014/10/Stava-Segment.png?resize=1024%2C612 1024w, /blog/wp-content/uploads/2014/10/Stava-Segment.png?w=1208 1208w, /blog/wp-content/uploads/2014/10/Stava-Segment.png?w=1812 1812w" sizes="(max-width: 500px) 100vw, 500px" data-recalc-dims="1" /></a>This isn’t the easiest table to read, but you can see that the dates sort of correlate with my times, as the fastest one is in September and the ones in August are slower on average. While beating my fastest time is a good motivator, it’s not realistic to try and break my record every time I ride. I’d rather see consistent improvement as a motivator.</p>

<p>To visualize this, I decided to grab all of the times by viewing the full leaderboard (with just my results). I gathered the times and dates and thew them into a Google spreadsheet to visualize my trend. Here are the results so far.</p>

<p><a href="/blog/wp-content/uploads/2014/10/Strava-Trend.png" rel="lightbox[2887]"><img class="aligncenter size-medium wp-image-2895" src="/blog/wp-content/uploads/2014/10/Strava-Trend.png?resize=500%2C173" alt="Strava Trend" width="500" height="173" srcset="/blog/wp-content/uploads/2014/10/Strava-Trend.png?resize=500%2C173 500w, /blog/wp-content/uploads/2014/10/Strava-Trend.png?resize=1024%2C355 1024w, /blog/wp-content/uploads/2014/10/Strava-Trend.png?w=1208 1208w, /blog/wp-content/uploads/2014/10/Strava-Trend.png?w=1812 1812w" sizes="(max-width: 500px) 100vw, 500px" data-recalc-dims="1" /></a></p>

<p>Success! It looks like I made some really good progress since I started in July, and my times have been inching downward as I get better at cycling uphill. The times also probably vary a bit because there are some stop signs and a traffic signal within the segment, which can slow me down.</p>

<p>The next problem I wanted to tackle was the data entry bit. Since it’s a pain to update the spreadsheet each time I ride,  I wanted to automate the addition of new efforts (the term that Strava uses to describe single instances of activities on a segment). This is where things get interesting.</p>

<p>Because I’m storing the efforts in a Google Doc, and because Strava has an API, I just need to connect the two together. Unfortunately, my go-to choice for this kind of thing, <a href="http://ifttt.com/">IFTTT</a>, doesn’t have Strava as a channel. Luckily, I can do something similar with <a href="http://zpr.io/HrwM">Zapier</a> (btw that’s a referral link, so be sure to click it so I can get more tasks), which is sort of like IFTTT but costs money (albeit with a nice free tier) and has more integrations. You can also set up your own integration, which is what I had to do with Strava.</p>

<p>In order to get the list of my efforts on that particular segment, I had to create a few Zapier “triggers.” One to <a href="http://strava.github.io/api/v3/athlete/#get-details">get my Strava user ID</a> (for use in other API endpoints), another to grab my <a href="http://strava.github.io/api/v3/segments/#starred">starred segments</a> (so I could specify which segment I wanted to track), and finally a trigger to listen for any <a href="http://strava.github.io/api/v3/segments/#efforts">new efforts</a> on my commute’s segment (limited to efforts created by me). I also had to post-process the last trigger so that I could get the date in a format that works in Google Spreadsheets. The result looks something like this:</p>

<p><a href="/blog/wp-content/uploads/2014/10/Strava-Zapier.png" rel="lightbox[2887]"><img class="aligncenter size-medium wp-image-2897" src="/blog/wp-content/uploads/2014/10/Strava-Zapier.png?resize=500%2C280" alt="Strava Zapier" width="500" height="280" srcset="/blog/wp-content/uploads/2014/10/Strava-Zapier.png?resize=500%2C280 500w, /blog/wp-content/uploads/2014/10/Strava-Zapier.png?resize=1024%2C574 1024w, /blog/wp-content/uploads/2014/10/Strava-Zapier.png?w=1208 1208w" sizes="(max-width: 500px) 100vw, 500px" data-recalc-dims="1" /></a></p>

<p>Now, whenever I ride home on my bike while recording the segment with Strava, the effort will be automatically logged and graphed on my Google Spreadsheet! Apparently, I can embed the chart, so here it is!</p>

<p><a href="https://docs.google.com/spreadsheets/d/1m2_P3sbBen6CXXm3tSo-lhm4tBX4maqH8r8Qw5hEFSo/pubchart?oid=984384629&amp;format=image" rel="lightbox"><br /> <img src="https://docs.google.com/spreadsheets/d/1m2_P3sbBen6CXXm3tSo-lhm4tBX4maqH8r8Qw5hEFSo/pubchart?oid=984384629&amp;format=image" alt="Chart" /></a></p>

<p>While the Zapier integration had a somewhat steep learning curve, it’s nice to just set the “zap” and then forget about it. Any new integrations I might need to write will also go much quicker. As always, <a href="https://www.runscope.com/">Runscope</a> was a really useful tool for exploring the Strava API and getting real responses from the API to play around with. Finally, I learned the right way to spell athlete rather painfully (after misspelling athlete_id a billion times and wondering why my request wasn’t filtering correctly)!</p>

<p>I went from seeing some sketchy looking progress in my Strava results table to being able to visualize it on a graph, while also setting the graph up to update whenever I record a new effort! Automation for the win!</p>

<p>If you’re interested in the details of the integration, or if you want to try it out yourself, let me know and I can invite you as a tester. If there’s a lot of interest, I can also go over the creation of the integration, as I ran into a few gotchas while building it.</p>


  <!-- POST NAVIGATION -->
  <div class="postNav clearfix">
     
      <a class="prev" href="/blog/2014/07/28/impressions-of-android-wear-lg-g-watch-with-my-nexus-5/"><span>&laquo;&nbsp;Impressions of Android Wear (LG G Watch) with my Nexus 5</span>
      
    </a>
      
      
      <a class="next" href="/blog/2015/01/20/how-ghost-inspector-helped-me-furnish-my-house/"><span>How Ghost Inspector Helped Me Furnish My House&nbsp;&raquo;</span>
       
      </a>
     
  </div>
</div>

      </div>
   </div><!-- end .content -->

   <div class="footer">
   <div class="container">
      <p class="copy">&copy; 2018 <a href="http://www.hung-truong.com/blog/">Hung Truong</a></p>

      <div class="footer-links">
         <ul class="noList">
            
            
            <li><a href="https://twitter.com/hungtruong">
                  <svg id="twitter" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M99.001,19.428c-3.606,1.608-7.48,2.695-11.547,3.184c4.15-2.503,7.338-6.466,8.841-11.189 c-3.885,2.318-8.187,4-12.768,4.908c-3.667-3.931-8.893-6.387-14.676-6.387c-11.104,0-20.107,9.054-20.107,20.223 c0,1.585,0.177,3.128,0.52,4.609c-16.71-0.845-31.525-8.895-41.442-21.131C6.092,16.633,5.1,20.107,5.1,23.813 c0,7.017,3.55,13.208,8.945,16.834c-3.296-0.104-6.397-1.014-9.106-2.529c-0.002,0.085-0.002,0.17-0.002,0.255 c0,9.799,6.931,17.972,16.129,19.831c-1.688,0.463-3.463,0.71-5.297,0.71c-1.296,0-2.555-0.127-3.783-0.363 c2.559,8.034,9.984,13.882,18.782,14.045c-6.881,5.424-15.551,8.657-24.971,8.657c-1.623,0-3.223-0.096-4.796-0.282 c8.898,5.738,19.467,9.087,30.82,9.087c36.982,0,57.206-30.817,57.206-57.543c0-0.877-0.02-1.748-0.059-2.617 C92.896,27.045,96.305,23.482,99.001,19.428z"></path>
                  </svg>
            </a></li>
            
            
            <li><a href="https://github.com/hungtruong">
                  <svg id="github" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M79.099,79.099 c-3.782,3.782-8.184,6.75-13.083,8.823c-1.245,0.526-2.509,0.989-3.79,1.387v-7.344c0-3.86-1.324-6.699-3.972-8.517 c1.659-0.16,3.182-0.383,4.57-0.67c1.388-0.287,2.855-0.702,4.402-1.245c1.547-0.543,2.935-1.189,4.163-1.938 c1.228-0.75,2.409-1.723,3.541-2.919s2.082-2.552,2.847-4.067s1.372-3.334,1.818-5.455c0.446-2.121,0.67-4.458,0.67-7.01 c0-4.945-1.611-9.155-4.833-12.633c1.467-3.828,1.308-7.991-0.478-12.489l-1.197-0.143c-0.829-0.096-2.321,0.255-4.474,1.053 c-2.153,0.798-4.57,2.105-7.249,3.924c-3.797-1.053-7.736-1.579-11.82-1.579c-4.115,0-8.039,0.526-11.772,1.579 c-1.69-1.149-3.294-2.097-4.809-2.847c-1.515-0.75-2.727-1.26-3.637-1.532c-0.909-0.271-1.754-0.439-2.536-0.503 c-0.782-0.064-1.284-0.079-1.507-0.048c-0.223,0.031-0.383,0.064-0.478,0.096c-1.787,4.53-1.946,8.694-0.478,12.489 c-3.222,3.477-4.833,7.688-4.833,12.633c0,2.552,0.223,4.889,0.67,7.01c0.447,2.121,1.053,3.94,1.818,5.455 c0.765,1.515,1.715,2.871,2.847,4.067s2.313,2.169,3.541,2.919c1.228,0.751,2.616,1.396,4.163,1.938 c1.547,0.543,3.014,0.957,4.402,1.245c1.388,0.287,2.911,0.511,4.57,0.67c-2.616,1.787-3.924,4.626-3.924,8.517v7.487 c-1.445-0.43-2.869-0.938-4.268-1.53c-4.899-2.073-9.301-5.041-13.083-8.823c-3.782-3.782-6.75-8.184-8.823-13.083 C9.934,60.948,8.847,55.56,8.847,50s1.087-10.948,3.231-16.016c2.073-4.899,5.041-9.301,8.823-13.083s8.184-6.75,13.083-8.823 C39.052,9.934,44.44,8.847,50,8.847s10.948,1.087,16.016,3.231c4.9,2.073,9.301,5.041,13.083,8.823 c3.782,3.782,6.75,8.184,8.823,13.083c2.143,5.069,3.23,10.457,3.23,16.016s-1.087,10.948-3.231,16.016 C85.848,70.915,82.88,75.317,79.099,79.099L79.099,79.099z"></path>
                  </svg>
            </a></li>
            
            
            <li><a href="mailto:hung@hung-truong.com">
                  <svg id="mail" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" style="height: 30px; width: 30px;"><circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
                  <path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)" d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M25.5,25.5h49 c0.874,0,1.723,0.188,2.502,0.542L50,57.544L22.998,26.041C23.777,25.687,24.626,25.499,25.5,25.5L25.5,25.5z M19.375,68.375v-36.75 c0-0.128,0.005-0.256,0.014-0.383l17.96,20.953L19.587,69.958C19.448,69.447,19.376,68.916,19.375,68.375L19.375,68.375z M74.5,74.5 h-49c-0.541,0-1.072-0.073-1.583-0.212l17.429-17.429L50,66.956l8.653-10.096l17.429,17.429C75.572,74.427,75.041,74.5,74.5,74.5 L74.5,74.5z M80.625,68.375c0,0.541-0.073,1.072-0.211,1.583L62.652,52.195l17.96-20.953c0.008,0.127,0.014,0.255,0.014,0.383 L80.625,68.375L80.625,68.375z"></path>
                  </svg>
            </a></li>
            
         </ul>
      </div>
   </div>
   <!-- Default Statcounter code for Hung Truong: The Blog!
   http://www.hung-truong.com/blog/ -->
   <script type="text/javascript">
   var sc_project=1262196; 
   var sc_invisible=0; 
   var sc_security="4af14454"; 
   var scJsHost = (("https:" == document.location.protocol) ?
   "https://secure." : "http://www.");
   document.write("<sc"+"ript type='text/javascript' src='" +
   scJsHost+
   "statcounter.com/counter/counter.js'></"+"script>");
   </script>
   <!-- End of Statcounter Code -->
</div><!-- end .footer -->

   <!-- Add jQuery and other scripts -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/blog"><\/script>')</script>
<script src="/blog/assets/js/dropcap.min.js"></script>
<script src="/blog/assets/js/responsive-nav.min.js"></script>
<script src="/blog/assets/js/scripts.js"></script>


</body>

</html>
