<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]-->
<!--[if IE 7]><html class="no-js lt-ie9 lt-ie8" <![endif]-->
<!--[if IE 8]><html class="no-js lt-ie9" <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<meta name="viewport" content="width=device-width, initial-scale=1" /><meta name="description" content="Build a native Google Glass app using the GDK Sneak Peek (API 15) to create a voice-triggered location finder with live Card updates. Configure ADT with Criteria.ACCURACY_FINE for GPS, implement VOICE_TRIGGER intents in AndroidManifest.xml, and process location updates via LocationManager with Geocoder address resolution. The tutorial includes step-by-step code for registering the 'Okay Glass, where am I?' command and displaying real-time coordinates with onLocationChanged callbacks." />
	<title>Writing Google Glass Apps With the GDK Sneak Peek</title>

	<!-- Open Graph Meta -->
	<meta content="Hung Truong: The Blog!" property="og:site_name" /><meta content="Writing Google Glass Apps With the GDK Sneak Peek" property="og:title" /><meta content="article" property="og:type" /><meta content="Build a native Google Glass app using the GDK Sneak Peek (API 15) to create a voice-triggered location finder with live Card updates. Configure ADT with Criteria.ACCURACY_FINE for GPS, implement VOICE_TRIGGER intents in AndroidManifest.xml, and process location updates via LocationManager with Geocoder address resolution. The tutorial includes step-by-step code for registering the 'Okay Glass, where am I?' command and displaying real-time coordinates with onLocationChanged callbacks." property="og:description" /><meta content="https://www.hung-truong.com/blog/2014/02/25/writing-google-glass-apps-with-the-gdk-sneak-peek/" property="og:url" /><meta content="2014-02-25T10:56:53-05:00" property="article:published_time" />
	<meta content="https://www.hung-truong.com/blog/about/" property="article:author" /><meta content="https://www.hung-truong.com/blog/assets/img/touring.jpg" property="og:image" /><!-- Twitter Cards -->
	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="@hungtruong" />
	<meta name="twitter:creator" content="@hungtruong" /><meta name="twitter:title" content="Writing Google Glass Apps With the GDK Sneak Peek" /><meta name="twitter:url" content="https://www.hung-truong.com/blog/2014/02/25/writing-google-glass-apps-with-the-gdk-sneak-peek/" /><meta name="twitter:description" content="Build a native Google Glass app using the GDK Sneak Peek (API 15) to create a voice-triggered location finder with live Card updates. Configure ADT with Criteria.ACCURACY_FINE for GPS, implement VOICE_TRIGGER intents in AndroidManifest.xml, and process location updates via LocationManager with Geocoder address resolution. The tutorial includes step-by-step code for registering the 'Okay Glass, where am I?' command and displaying real-time coordinates with onLocationChanged callbacks." /><meta name="twitter:image:src" content="https://www.hung-truong.com/blog/assets/img/touring.jpg" /><!-- Favicon -->
	<link rel="icon" type="image/x-icon" href="" />

	<!-- Come and get me RSS readers -->
	<link rel="alternate" type="application/rss+xml" title="Hung Truong: The Blog!" href="https://www.hung-truong.com/blog/feed.xml" />

	<!-- Stylesheet -->
	<!-- Ensure JS class exists before CSS loads to avoid FOUC on JS-dependent components -->
	<script>document.documentElement.className = (document.documentElement.className + ' js').trim();</script>

	<!-- Critical nav CSS: apply final nav layout early to avoid menu reflow/flicker -->
	<style>
		/* Mobile/default */
		.nav-collapse ul {
			margin: 0;
			padding: 0;
			list-style: none;
		}

		.nav-collapse ul li {
			display: block;
			width: 100%;
		}

		.nav-collapse ul li a {
			display: block;
			padding: 5px 2rem;
		}

		/* Desktop breakpoint - mirror _800up.scss to avoid reflow when media queries apply */
		@media only screen and (min-width: 800px) {
			.nav-collapse ul li {
				display: inline;
				line-height: 3em;
				background: none;
				padding: 0;
				border: none;
			}

			.nav-collapse ul li a {
				display: inline-block;
				padding: 0 0.25em;
				font-size: 1.1em;
			}

			.nav-toggle {
				display: none;
			}
		}
	</style>
	<link rel="stylesheet" href="/blog/assets/css/style.css" />

	<!-- Canonical URL -->
	<link rel="canonical" href="https://www.hung-truong.com/blog/2014/02/25/writing-google-glass-apps-with-the-gdk-sneak-peek/" /><script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BlogPosting",
      "headline": "Writing Google Glass Apps With the GDK Sneak Peek",
      "image": [
        ""
       ],
      "datePublished": "2014-02-25T10:56:53-05:00",
      "dateModified": "2014-02-25T10:56:53-05:00",
      "author": [{
          "@type": "Person",
          "name": "Hung Truong",
          "url": "https://www.hung-truong.com/blog/about/"
        }],
      "description": "Build a native Google Glass app using the GDK Sneak Peek (API 15) to create a voice-triggered location finder with live Card updates. Configure ADT with Criteria.ACCURACY_FINE for GPS, implement VOICE_TRIGGER intents in AndroidManifest.xml, and process location updates via LocationManager with Ge...",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://www.hung-truong.com/blog/2014/02/25/writing-google-glass-apps-with-the-gdk-sneak-peek/"
      }
    }
    </script><!-- Breadcrumb Schema -->
	<script type="application/ld+json">
	{
		"@context": "https://schema.org",
		"@type": "BreadcrumbList",
		"itemListElement": [{
			"@type": "ListItem",
			"position": 1,
			"name": "Home",
			"item": "https://www.hung-truong.com/blog/"
		},{
			"@type": "ListItem",
			"position": 2,
			"name": "Blog",
			"item": "https://www.hung-truong.com/blog/"
		},
		{
			"@type": "ListItem",
			"position": 3,
			"name": "2014",
			"item": "https://www.hung-truong.com/blog/2014/"
		},
		{
			"@type": "ListItem",
			"position": 4,
			"name": "Writing Google Glass Apps With the GDK Sneak Peek",
			"item": "https://www.hung-truong.com/blog/2014/02/25/writing-google-glass-apps-with-the-gdk-sneak-peek/"
		}]
	}
	</script>
<!-- Google tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-165QNLHYRX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'G-165QNLHYRX');
</script>
</head>

<body>

   <div class="header ">
    <div class="container">
        <h1 class="logo"><a href="/blog/">Hung Truong: The Blog!</a></h1>
        <nav class="nav-collapse">
            <ul class="noList"><li
                    class="elementfirstcurrent">
                    <a href="/blog/">Home</a>
                </li><li
                    class="element">
                    <a href="/blog/archives">Archives</a>
                </li><li
                    class="element">
                    <a href="/blog/about">About</a>
                </li><li
                    class="element">
                    <a href="/blog/contact">Contact</a>
                </li><li
                    class="elementlast">
                    <a href="/blog/speaking">Speaking</a>
                </li></ul>
        </nav>

    </div>
</div><!-- end .header -->

   <div class="content">
      <div class="container">
         <article class="post" id="hypertranscript">
  <header>
    <h1 class="postTitle">Writing Google Glass Apps With the GDK Sneak Peek</h1>
    <p class="meta">February 25, 2014 | <span class="time">6</span> Minute Read</p>
  </header>

  
  <div class="audio-player-container" id="audio-container">
    <!-- Using standardized path: /assets/audio/[slug].mp3 -->
    <div class="audio-header">
      <div class="audio-label">Listen to this blog post</div>
      <button class="audio-close" id="audio-close" aria-label="Close audio player">Hide</button>
    </div>
    <audio id="hyperplayer" controls preload="auto">
      <source src="/blog/assets/audio/writing-google-glass-apps-with-the-gdk-sneak-peek.m4a"
        type="audio/mp4">
      <source src="/blog/assets/audio/writing-google-glass-apps-with-the-gdk-sneak-peek.mp3"
        type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
  </div>
  

  <div class="post-content">
    <p>Since the beginning of time, humans have wanted to mount small computers on their heads. In 2013 we got our wish, as Google started releasing Glass onto explorers and developers alike. In November of 2013, Google released a “Sneak Peek” of the GDK, a way to write native code for Google Glass.</p>

<p>While the GDK is still under development and will probably change quite a bit before being finalized, those on the cutting edge will want to familiarize themselves with it.</p>

<p>In this quick start guide, I’ll go through the steps of writing your first GDK app, “Where Am I?” This app will ensure you are never lost. By simply shouting “Okay Glass, where am I?” the app will find your latitude and longitude, and try to find the nearest street address.
<!--more--></p>
<h2 id="prerequisites">Prerequisites</h2>

<p>In order to start writing native apps for Google Glass, here’s what you’ll need:</p>

<ul>
  <li>Google Glass! There is currently no way to emulate the device and its sensors, so getting a real device is a must. You can request an invite directly from Google <a href="http://www.google.com/glass/start/how-to-get-one/">here</a>, or search on Twitter for someone with a <a href="https://twitter.com/search?q=google%20glass%20invite&amp;src=typd">spare invite to share</a>.</li>
  <li>ADT – <a href="http://developer.android.com/tools/sdk/eclipse-adt.html">Android Development Tools</a> is basically a plugin for Eclipse that lets you compile and load your native code onto Glass.</li>
  <li>Source Code (optional) – I’ve included the source code for this app on Github <a href="https://github.com/hungtruong/GDK-WhereAmI">here</a>. If you want to follow along without copying and pasting a bunch of code, you can simply skip back and forth by running git commands that I’ll describe later on.</li>
</ul>

<h2 id="getting-started">Getting Started</h2>

<p>Google Glass runs on a special version of Android, “Glass Development Kit Sneak Peek” – a tricked out version of API 15.  You’ll need to download this version with the Android SDK Manager within ADT (you can open it by clicking on the icon of the Android with a blue box and an arrow on it).</p>

<p><a href="/blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-11.28.47-AM.png" rel="lightbox[2771]"><img class="aligncenter size-large wp-image-2773" alt="Glass Sneak Peek" src="/blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-11.28.47-AM.png?resize=604%2C294" width="604" height="294" srcset="/blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-11.28.47-AM.png?resize=1024%2C500 1024w, /blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-11.28.47-AM.png?resize=500%2C244 500w, /blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-11.28.47-AM.png?w=1208 1208w, /blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-11.28.47-AM.png?w=1812 1812w" sizes="(max-width: 604px) 100vw, 604px" data-recalc-dims="1" /></a></p>

<p>Once you’ve done that, you’ll need to create a new Android project with the correct SDK settings. Use API 15 for Minimum and Target SDK, and set “Compile With” to the GDK Sneak Peek.<a href="/blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-12.52.50-PM.png" rel="lightbox[2771]"><img class="aligncenter size-full wp-image-2774" alt="GDK Settings" src="/blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-12.52.50-PM.png?resize=604%2C597" width="604" height="597" srcset="/blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-12.52.50-PM.png?w=753 753w, /blog/wp-content/uploads/2014/01/Screen-Shot-2014-01-25-at-12.52.50-PM.png?resize=500%2C494 500w" sizes="(max-width: 604px) 100vw, 604px" data-recalc-dims="1" /></a>Congratulations! You’ve created a project that should run on Google Glass! If you try running the app on your device, it may or may not work, since it won’t have a voice trigger associated with it yet. We’ll add a voice trigger in the next step.</p>

<h2 id="adding-a-voice-trigger">Adding a Voice Trigger</h2>

<p><em>If you’re following along with git, you can type the following command to fill out all the code for this step:</em></p>

<pre>git checkout -f step-1</pre>

<p>Because Google Glass is such a new paradigm for user input, we’ll need to set up a voice trigger to allow the user to start our app. To do this, we’ll add some some strings to our strings.xml and add an xml resource that describes the voice trigger. Finally, we’ll add an intent filter to our AndroidManifest.xml to register the voice command.</p>

<ol>
  <li>In res/values/strings.xml</li>
</ol>

<pre class="lang:default decode:true" title="res/values/strings.xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;

    &lt;string name="app_name"&gt;WhereAmI&lt;/string&gt;
    &lt;string name="action_settings"&gt;Settings&lt;/string&gt;
    &lt;string name="hello_world"&gt;Hello world!&lt;/string&gt;
    &lt;string name="glass_voice_trigger"&gt;where am I?&lt;/string&gt;

&lt;/resources&gt;</pre>

<ol>
  <li>In res/xml/whereami.xml (you can name this file anything as long as you refer to the same file in AndroidManifest.xml</li>
</ol>

<pre class="lang:java decode:true" title="res/xml/whereami.xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;trigger keyword="@string/glass_voice_trigger" /&gt;</pre>

<ol>
  <li>In AndroidManifest.xml:</li>
</ol>

<pre class="lang:java decode:true" title="AndroidManifest.xml">...
            &lt;intent-filter&gt;
                &lt;action
                    android:name="com.google.android.glass.action.VOICE_TRIGGER" /&gt;
            &lt;/intent-filter&gt;
            &lt;meta-data android:name="com.google.android.glass.VoiceTrigger"
                android:resource="@xml/whereami" /&gt;
...</pre>

<p>Now, if you run your code on Glass, you should be able to find the “Where Am I?” command in the Ok, Glass menu!</p>

<p><a href="/blog/wp-content/uploads/2014/01/Glass-Voice-Trigger.png" rel="lightbox[2771]"><img class="aligncenter size-full wp-image-2782" alt="Glass Voice Trigger" src="/blog/wp-content/uploads/2014/01/Glass-Voice-Trigger.png?resize=604%2C347" width="604" height="347" srcset="/blog/wp-content/uploads/2014/01/Glass-Voice-Trigger.png?w=900 900w, /blog/wp-content/uploads/2014/01/Glass-Voice-Trigger.png?resize=500%2C287 500w" sizes="(max-width: 604px) 100vw, 604px" data-recalc-dims="1" /></a></p>

<h2 id="using-glass-cards">Using Glass Cards</h2>

<p>We’ve gotten voice commands working, and that’s half the battle. Next we’ll learn how to use Cards, the native user interface for Glass. We’ll need to remove the existing style, then instantiate a Card object, set up its text and set it as the content view.</p>

<ol>
  <li>Remove the line in AndroidManifest.xml that reads:</li>
</ol>

<pre>android:theme="@style/AppTheme"&gt;</pre>

<ol>
  <li>Import Card from the GDK and create a new <a href="https://developers.google.com/glass/develop/gdk/reference/com/google/android/glass/app/Card">Card</a> instance in OnCreate()</li>
</ol>

<pre class="lang:java decode:true" title="MainActivity.java">...
import android.view.View;
import com.google.android.glass.app.Card;

public class MainActivity extends Activity {
private Card card;
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		card = new Card(this.getApplicationContext());
        card.setText("Getting your location...");
        View cardView = card.toView();
        setContentView(cardView);
...</pre>

<p>If you run the app, should see something like this:</p>

<p><a href="/blog/wp-content/uploads/2014/01/Glass-Card.png" rel="lightbox[2771]"><img class="aligncenter size-full wp-image-2783" alt="Glass Card" src="/blog/wp-content/uploads/2014/01/Glass-Card.png?resize=604%2C342" width="604" height="342" srcset="/blog/wp-content/uploads/2014/01/Glass-Card.png?w=900 900w, /blog/wp-content/uploads/2014/01/Glass-Card.png?resize=500%2C283 500w" sizes="(max-width: 604px) 100vw, 604px" data-recalc-dims="1" /></a></p>

<h2 id="getting-location-and-updating-the-card">Getting Location and Updating the Card</h2>

<p><em>If you’re following along with git, you can type the following command to fill out all the code for this step:</em></p>

<pre>git checkout -f step-2</pre>

<p>Finally, we want to get the Glass’ location and update the card with the appropriate info. Our lost Glass Explorer will be found and all will be well. We’ll do this by requesting location permissions, setting up a LocationManager and handling its callbacks by updating the card with lat long and a geocoded address, if available.</p>

<ol>
  <li>Ask for permissions for user location and internet in AndroidManifest.xml</li>
</ol>

<pre class="lang:java decode:true" title="AndroidManifest.xml">...
    &lt;uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" /&gt;
    &lt;uses-permission
        android:name="android.permission.ACCESS_LOCATION_EXTRA_COMMANDS" /&gt;
    &lt;uses-permission android:name="android.permission.INTERNET" /&gt;
...</pre>

<ol>
  <li>Create a LocationManager that uses certain criteria to figure out which location services it can use on Glass in MainActivity.java</li>
</ol>

<pre class="lang:java decode:true" title="MainActivity.java">...
        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);

        Criteria criteria = new Criteria();
        criteria.setAccuracy(Criteria.ACCURACY_FINE);
        criteria.setAltitudeRequired(true);

        List&lt;String&gt; providers = locationManager.getProviders(
                criteria, true /* enabledOnly */);

        for (String provider : providers) {
            locationManager.requestLocationUpdates(provider, 1000,
                    10, this);
        }
...</pre>

<ol>
  <li>Implement callbacks that will update the card when you get a location update in MainActivity.java</li>
</ol>

<pre class="lang:java decode:true" title="MainActivity.java">@Override
    public void onLocationChanged(Location arg0) {
		//show lat long to user
        String lat = String.valueOf(arg0.getLatitude());
        String lon = String.valueOf(arg0.getLongitude());

        card.setText("your location is " + lat + " " + lon);

        Geocoder geocoder = new Geocoder(this);

        try {
			List&lt;Address&gt; addresses = geocoder.getFromLocation(arg0.getLatitude(), arg0.getLongitude(), 1);
			if(addresses.size() &gt; 0)
			{
				Address address = addresses.get(0);
				String addressString = "";

				for(int i = 0; i &lt; address.getMaxAddressLineIndex(); i++)
				{
					addressString += address.getAddressLine(i) + " ";
				}
			card.setFootnote(addressString);
			}
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

        View cardView = card.toView();
        setContentView(cardView);
	}</pre>

<p>The app should now start getting location updates on the Glass (it can take a while to get a good fix) and update the Card once it finds you. The result should look something like this:</p>

<p><a href="/blog/wp-content/uploads/2014/01/Glass-Card-Complete.png" rel="lightbox[2771]"><img class="aligncenter size-full wp-image-2786" alt="Glass Card Complete" src="/blog/wp-content/uploads/2014/01/Glass-Card-Complete.png?resize=604%2C334" width="604" height="334" srcset="/blog/wp-content/uploads/2014/01/Glass-Card-Complete.png?w=900 900w, /blog/wp-content/uploads/2014/01/Glass-Card-Complete.png?resize=500%2C276 500w" sizes="(max-width: 604px) 100vw, 604px" data-recalc-dims="1" /></a></p>

<p>Congratulations! You’ve finished your first Glass app. Future generations will wonder how they ever knew where they were without a head mounted computer printing out their exact location on the earth into a glowing prism directly above their field of vision at all times!</p>

<p>For more information about the GDK, check out Google’s <a href="https://developers.google.com/glass/develop/gdk/index">official documentation</a>! Glass on!</p>

<p> </p>

  </div>

  
  <!-- Hyperaudio Integration -->
  <script
    src="/blog/assets/js/libs/hyperaudio-lite.min.js?v=1771548299"></script>
  <script
    src="/blog/assets/js/vtt-inject.js?v=1771548301"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Standardized path: /assets/audio/[slug].vtt
      var vttUrl = "/blog/assets/audio/writing-google-glass-apps-with-the-gdk-sneak-peek.vtt?v=1771548299";
      window.initHyperaudioInjection(vttUrl, 'hypertranscript', 'hyperplayer');

      // Add 'is-active' class on play to enable interaction styles
      var player = document.getElementById('hyperplayer');
      var transcript = document.getElementById('hypertranscript');
      var container = document.getElementById('audio-container');

      if (player && transcript) {
        player.addEventListener('play', function () {
          transcript.classList.add('is-active');
          if (container) container.classList.add('is-sticky');
        });
      }

      // Handle Close Button
      var closeBtn = document.getElementById('audio-close');
      var container = document.getElementById('audio-container');
      if (closeBtn && container) {
        closeBtn.addEventListener('click', function () {
          container.style.display = 'none';
          if (player) player.pause();
        });
      }
    });
  </script>
  

  <!-- COMMENTS -->
  
<div class="comments">
  <h3>Comments</h3>
  
  

  

  <ul class="comment-list">
    
    
<li class="comment" id="comment-151270">
  <div class="comment-header">
    <strong>
      
      <a href="http://www.hung-truong.com/blog/" target="_blank">Hung</a>
      
    </strong>
    <time datetime="2014-05-12T09:07:43-04:00">
      May 12, 2014 at 09:07 AM
    </time>
  </div>
  <div class="comment-body">
    <p>Thank you! Most tutorials for Glass expect the reader to know a lot of basic android/java stuff already, but I’m a total noob and I’ve been looking for a clear step-by-step guide like this for a while. It was very helpful.</p>

  </div>
  <div class="comment-actions">
    <a href="#comment-form" class="comment-reply-link" data-comment-id="151270"
      data-comment-name="Hung">Reply</a>
  </div>

  
   <ul class="comment-replies">
    
    
    
<li class="comment" id="comment-151271">
  <div class="comment-header">
    <strong>
      
      <a href="http://www.hung-truong.com/blog/" target="_blank">Hung</a>
      
    </strong>
    <time datetime="2014-05-12T09:17:43-04:00">
      May 12, 2014 at 09:17 AM
    </time>
  </div>
  <div class="comment-body">
    <p>You’re welcome! I’m glad you found it helpful.</p>

  </div>
  <div class="comment-actions">
    <a href="#comment-form" class="comment-reply-link" data-comment-id="151271"
      data-comment-name="Hung">Reply</a>
  </div>

  
  
</li>
    
    </ul>
    
</li>
    
  </ul>
</div>


  <div class="comment-form">
    <h3>Leave a Comment</h3>
    <p><em>Comments are moderated and won't appear immediately after submission.</em></p>
    <form method="POST" action="https://comments.hung-truong.com" class="comment-form-fields" id="comment-form">
  <input name="options[slug]" type="hidden" value="writing-google-glass-apps-with-the-gdk-sneak-peek">
  <input name="fields[replying_to]" type="hidden" id="comment-replying-to" value="">

  <div id="reply-to-display"
    style="display: none; margin-bottom: 15px; padding: 10px; background: #f0f0f0; border-radius: 4px;">
    Replying to <strong id="reply-to-name"></strong>
    <button type="button" id="cancel-reply"
      style="float: right; background: none; border: none; cursor: pointer; color: #999;">✕ Cancel</button>
  </div>

  <div class="field">
    <label for="comment-name">Name *</label>
    <input type="text" id="comment-name" name="fields[name]" class="full-width" required>
  </div>

  <div class="field">
    <label for="comment-email">Email *</label>
    <input type="email" id="comment-email" name="fields[email]" class="full-width" required>
  </div>

  <div class="field">
    <label for="comment-url">Website</label>
    <input type="url" id="comment-url" name="fields[url]" class="full-width">
  </div>

  <div class="field">
    <label for="comment-message">Comment *</label>
    <textarea id="comment-message" name="fields[message]" rows="5" class="full-width" required></textarea>
  </div>

  <button type="submit" class="button" id="comment-submit">Submit Comment</button>
</form>

<div id="comment-success" style="display: none;" class="comment-message comment-message-success">
  <div>
    <h4>Thank you for your comment!</h4>
    <p>Your comment has been submitted and will be published after manual approval.</p>
  </div>
</div>

<div id="comment-error" style="display: none;" class="comment-message comment-message-error">
  <div>
    <h4>Submission Error</h4>
    <p id="comment-error-text">There was an error submitting your comment. Please try again.</p>
  </div>
</div>

<script>
  (function () {
    const form = document.getElementById('comment-form');
    const success = document.getElementById('comment-success');
    const error = document.getElementById('comment-error');
    const errorText = document.getElementById('comment-error-text');
    const submitBtn = document.getElementById('comment-submit');
    const replyingToInput = document.getElementById('comment-replying-to');
    const replyToDisplay = document.getElementById('reply-to-display');
    const replyToName = document.getElementById('reply-to-name');
    const cancelReplyBtn = document.getElementById('cancel-reply');

    function resetForm() {
      form.reset();
      replyingToInput.value = '';
      replyToDisplay.style.display = 'none';
      submitBtn.disabled = false;
      submitBtn.textContent = 'Submit Comment';
    }

    cancelReplyBtn.addEventListener('click', function () {
      replyingToInput.value = '';
      replyToDisplay.style.display = 'none';
    });

    document.addEventListener('click', function (e) {
      if (e.target && e.target.classList.contains('comment-reply-link')) {
        const commentId = e.target.getAttribute('data-comment-id');
        const commentName = e.target.getAttribute('data-comment-name');

        replyingToInput.value = commentId;
        replyToName.textContent = commentName;
        replyToDisplay.style.display = 'block';

        form.scrollIntoView({ behavior: 'smooth' });

        // Optional: focus the name field
        document.getElementById('comment-name').focus();
      }
    });

    form.addEventListener('submit', function (e) {
      e.preventDefault();
      submitBtn.disabled = true;
      submitBtn.textContent = 'Submitting...';
      error.style.display = 'none';

      const formData = new FormData(form);

      // Convert to URLSearchParams for x-www-form-urlencoded
      const params = new URLSearchParams();
      for (const pair of formData) {
        params.append(pair[0], pair[1]);
      }

      fetch(form.action, {
        method: 'POST',
        body: params,
        headers: {
          'Content-Type': 'application/x-www-form-urlencoded'
        }
      })
        .then(response => {
          if (response.ok) {
            form.style.display = 'none';
            success.style.display = 'block';
            error.style.display = 'none';
            try {
              resetForm();
            } catch (e) {
              console.error("Error resetting form:", e);
            }
          } else {
            if (response.status === 403) {
              errorText.innerText = "lol ur a spammer";
            } else {
              errorText.innerText = "There was an error submitting your comment. Please try again.";
            }
            error.style.display = 'block';
            success.style.display = 'none';
            submitBtn.disabled = false;
            submitBtn.textContent = 'Submit Comment';
          }
        })
        .catch((err) => {
          // If success is already shown, ignore errors (e.g. from resetForm)
          if (success.style.display === 'block') {
            console.error("Post-success error:", err);
            return;
          }

          errorText.innerText = "There was an error submitting your comment. Please try again.";
          error.style.display = 'block';
          success.style.display = 'none';
          submitBtn.disabled = false;
          submitBtn.textContent = 'Submit Comment';
        });
    });
  })();
</script>
  </div>

  <!-- POST NAVIGATION -->
  <div class="postNav clearfix">
    
    <a class="prev"
      href="/blog/2013/12/06/google-glass-megapost-win-an-invite/"><span>&laquo;&nbsp;Google Glass Megapost (+ win an invite!)</span>
      
    </a>
    
    
    <a class="next" href="/blog/2014/05/20/ideas-and-recipes-for-home-automation-with-the-internet-of-things/"><span>Ideas and Recipes For Home Automation With The Internet of Things&nbsp;&raquo;</span>
      
    </a>
    
  </div>
</article>
      </div>
   </div><!-- end .content -->

   <div class="footer">
	<div class="container">
		<p class="copy">&copy; 2026 <a href="http://www.hung-truong.com/blog/">Hung Truong</a>
		</p>

		<div class="footer-links">
			<ul class="noList"><li>
	<a href="https://twitter.com/hungtruong" target="_blank" aria-label="Hung Truong on Twitter">
		<svg id="twitter" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg"
			xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" width="30" height="30"
			style="height: 30px; width: 30px;">
			<circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
			<path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)"
				d="M99.001,19.428c-3.606,1.608-7.48,2.695-11.547,3.184c4.15-2.503,7.338-6.466,8.841-11.189 c-3.885,2.318-8.187,4-12.768,4.908c-3.667-3.931-8.893-6.387-14.676-6.387c-11.104,0-20.107,9.054-20.107,20.223 c0,1.585,0.177,3.128,0.52,4.609c-16.71-0.845-31.525-8.895-41.442-21.131C6.092,16.633,5.1,20.107,5.1,23.813 c0,7.017,3.55,13.208,8.945,16.834c-3.296-0.104-6.397-1.014-9.106-2.529c-0.002,0.085-0.002,0.17-0.002,0.255 c0,9.799,6.931,17.972,16.129,19.831c-1.688,0.463-3.463,0.71-5.297,0.71c-1.296,0-2.555-0.127-3.783-0.363 c2.559,8.034,9.984,13.882,18.782,14.045c-6.881,5.424-15.551,8.657-24.971,8.657c-1.623,0-3.223-0.096-4.796-0.282 c8.898,5.738,19.467,9.087,30.82,9.087c36.982,0,57.206-30.817,57.206-57.543c0-0.877-0.02-1.748-0.059-2.617 C92.896,27.045,96.305,23.482,99.001,19.428z">
			</path>
		</svg>
	</a>
</li><li>
	<a href="https://github.com/hungtruong" target="_blank" aria-label="Hung Truong on GitHub">
		<svg id="github" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg"
			xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" width="30" height="30"
			style="height: 30px; width: 30px;">
			<circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
			<path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)"
				d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M79.099,79.099 c-3.782,3.782-8.184,6.75-13.083,8.823c-1.245,0.526-2.509,0.989-3.79,1.387v-7.344c0-3.86-1.324-6.699-3.972-8.517 c1.659-0.16,3.182-0.383,4.57-0.67c1.388-0.287,2.855-0.702,4.402-1.245c1.547-0.543,2.935-1.189,4.163-1.938 c1.228-0.75,2.409-1.723,3.541-2.919s2.082-2.552,2.847-4.067s1.372-3.334,1.818-5.455c0.446-2.121,0.67-4.458,0.67-7.01 c0-4.945-1.611-9.155-4.833-12.633c1.467-3.828,1.308-7.991-0.478-12.489l-1.197-0.143c-0.829-0.096-2.321,0.255-4.474,1.053 c-2.153,0.798-4.57,2.105-7.249,3.924c-3.797-1.053-7.736-1.579-11.82-1.579c-4.115,0-8.039,0.526-11.772,1.579 c-1.69-1.149-3.294-2.097-4.809-2.847c-1.515-0.75-2.727-1.26-3.637-1.532c-0.909-0.271-1.754-0.439-2.536-0.503 c-0.782-0.064-1.284-0.079-1.507-0.048c-0.223,0.031-0.383,0.064-0.478,0.096c-1.787,4.53-1.946,8.694-0.478,12.489 c-3.222,3.477-4.833,7.688-4.833,12.633c0,2.552,0.223,4.889,0.67,7.01c0.447,2.121,1.053,3.94,1.818,5.455 c0.765,1.515,1.715,2.871,2.847,4.067s2.313,2.169,3.541,2.919c1.228,0.751,2.616,1.396,4.163,1.938 c1.547,0.543,3.014,0.957,4.402,1.245c1.388,0.287,2.911,0.511,4.57,0.67c-2.616,1.787-3.924,4.626-3.924,8.517v7.487 c-1.445-0.43-2.869-0.938-4.268-1.53c-4.899-2.073-9.301-5.041-13.083-8.823c-3.782-3.782-6.75-8.184-8.823-13.083 C9.934,60.948,8.847,55.56,8.847,50s1.087-10.948,3.231-16.016c2.073-4.899,5.041-9.301,8.823-13.083s8.184-6.75,13.083-8.823 C39.052,9.934,44.44,8.847,50,8.847s10.948,1.087,16.016,3.231c4.9,2.073,9.301,5.041,13.083,8.823 c3.782,3.782,6.75,8.184,8.823,13.083c2.143,5.069,3.23,10.457,3.23,16.016s-1.087,10.948-3.231,16.016 C85.848,70.915,82.88,75.317,79.099,79.099L79.099,79.099z">
			</path>
		</svg>
	</a>
</li><li>
	<a href="https://www.youtube.com/@techsistentialcrisis" target="_blank" aria-label="Hung Truong on YouTube">
		<svg id="youtube" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg"
			xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" width="30" height="30"
			style="height: 30px; width: 30px;">
			<circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
			<path fill="#FFF" fill-rule="evenodd" clip-rule="evenodd"
				d="M18.168 19.0028C20.4724 19.0867 22.41 17.29 22.5 14.9858V9.01982C22.41 6.71569 20.4724 4.91893 18.168 5.00282H6.832C4.52763 4.91893 2.58998 6.71569 2.5 9.01982V14.9858C2.58998 17.29 4.52763 19.0867 6.832 19.0028H18.168Z"
				stroke="#000000" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"
				transform="translate(22,22) scale(2.3)"></path>
			<path class="outer-shape" fill-rule="evenodd" clip-rule="evenodd"
				d="M12.008 9.17784L15.169 11.3258C15.3738 11.4454 15.4997 11.6647 15.4997 11.9018C15.4997 12.139 15.3738 12.3583 15.169 12.4778L12.008 14.8278C11.408 15.2348 10.5 14.8878 10.5 14.2518V9.75184C10.5 9.11884 11.409 8.77084 12.008 9.17784Z"
				stroke-linecap="round" stroke-linejoin="round" transform="translate(22,22) scale(2.3)"></path>
		</svg>
	</a>
</li><li>
	<a href="mailto:hung@hung-truong.com" target="_blank" aria-label="Email Hung Truong">
		<svg id="mail" class="custom-icon" version="1.1" xmlns="http://www.w3.org/2000/svg"
			xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" width="30" height="30"
			style="height: 30px; width: 30px;">
			<circle class="outer-shape" cx="50" cy="50" r="48" style="opacity: 1;"></circle>
			<path class="inner-shape" style="opacity: 1;" transform="translate(25,25) scale(0.5)"
				d="M50,1C22.938,1,1,22.938,1,50s21.938,49,49,49s49-21.938,49-49S77.062,1,50,1z M25.5,25.5h49 c0.874,0,1.723,0.188,2.502,0.542L50,57.544L22.998,26.041C23.777,25.687,24.626,25.499,25.5,25.5L25.5,25.5z M19.375,68.375v-36.75 c0-0.128,0.005-0.256,0.014-0.383l17.96,20.953L19.587,69.958C19.448,69.447,19.376,68.916,19.375,68.375L19.375,68.375z M74.5,74.5 h-49c-0.541,0-1.072-0.073-1.583-0.212l17.429-17.429L50,66.956l8.653-10.096l17.429,17.429C75.572,74.427,75.041,74.5,74.5,74.5 L74.5,74.5z M80.625,68.375c0,0.541-0.073,1.072-0.211,1.583L62.652,52.195l17.96-20.953c0.008,0.127,0.014,0.255,0.014,0.383 L80.625,68.375L80.625,68.375z">
			</path>
		</svg>
	</a>
</li></ul>
		</div>
	</div>
</div>
<!-- end .footer -->
<!-- Default Statcounter code for Hung Truong: The Blog!
     http://www.hung-truong.com/blog/ -->
<script type="text/javascript">
	var sc_project = 1262196;
	var sc_invisible = 1;
	var sc_security = "4af14454"; 
</script>
<script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
<noscript>
	<div class="statcounter"><a title="web statistics" href="https://statcounter.com/" target="_blank"><img
				class="statcounter" src="https://c.statcounter.com/1262196/0/4af14454/1/" alt="web statistics"
				referrerPolicy="no-referrer-when-downgrade"></a></div>
</noscript>
<!-- End of Statcounter Code -->
   <!-- Add jQuery and other scripts -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src=/blog/assets/js/jquery-3.7.1.min.js><\/script>')</script>
<script src="/blog/assets/js/dropcap.min.js"></script>
<script src="/blog/assets/js/responsive-nav.min.js"></script>
<script src="/blog/assets/js/scripts.js"></script>

</body>

</html>
