WEBVTT

00:00:00.000 --> 00:00:03.037
Writing Google Glass Apps With the GDK Sneak Peek

00:00:04.537 --> 00:00:06.934
Published on February 25, 2014.

00:00:07.934 --> 00:00:13.208
Since the beginning of time, humans have wanted to mount small computers on their heads.

00:00:13.708 --> 00:00:19.702
In 2013 we got our wish, as Google started releasing Glass onto explorers and developers alike.

00:00:20.202 --> 00:00:27.154
In November of 2013, Google released a “Sneak Peek” of the GDK, a way to write native code for Google Glass.

00:00:28.154 --> 00:00:37.025
While the GDK is still under development and will probably change quite a bit before being finalized, those on the cutting edge will want to familiarize themselves with it.

00:00:38.025 --> 00:00:43.778
In this quick start guide, I’ll go through the steps of writing your first GDK app, “Where Am I?”

00:00:44.278 --> 00:00:46.915
This app will ensure you are never lost.

00:00:47.415 --> 00:00:54.448
By simply shouting “Okay Glass, where am I?” the app will find your latitude and longitude, and try to find the nearest street address.

00:00:55.448 --> 00:00:56.806
Prerequisites

00:00:58.306 --> 00:01:02.861
In order to start writing native apps for Google Glass, here’s what you’ll need:

00:01:03.861 --> 00:01:10.734
Google Glass! There is currently no way to emulate the device and its sensors, so getting a real device is a must.

00:01:11.234 --> 00:01:17.147
You can request an invite directly from Google here , or search on Twitter for someone with a spare invite to share .

00:01:18.147 --> 00:01:25.659
ADT – Android Development Tools is basically a plugin for Eclipse that lets you compile and load your native code onto Glass.

00:01:26.659 --> 00:01:30.735
Source Code (optional) – I’ve included the source code for this app on Github here .

00:01:31.235 --> 00:01:39.146
If you want to follow along without copying and pasting a bunch of code, you can simply skip back and forth by running git commands that I’ll describe later on.

00:01:40.146 --> 00:01:41.345
Getting Started

00:01:42.845 --> 00:01:51.316
Google Glass runs on a special version of Android, “Glass Development Kit Sneak Peek” – a tricked out version of API 15.

00:01:51.816 --> 00:02:01.566
You’ll need to download this version with the Android SDK Manager within ADT (you can open it by clicking on the icon of the Android with a blue box and an arrow on it).

00:02:02.566 --> 00:02:07.281
Once you’ve done that, you’ll need to create a new Android project with the correct SDK settings.

00:02:07.781 --> 00:02:13.854
Use API 15 for Minimum and Target SDK, and set “Compile With” to the GDK Sneak Peek.

00:02:14.354 --> 00:02:18.270
Congratulations! You’ve created a project that should run on Google Glass!

00:02:18.770 --> 00:02:25.243
If you try running the app on your device, it may or may not work, since it won’t have a voice trigger associated with it yet.

00:02:25.743 --> 00:02:27.980
We’ll add a voice trigger in the next step.

00:02:28.980 --> 00:02:30.578
Adding a Voice Trigger

00:02:32.078 --> 00:02:36.713
If you’re following along with git, you can type the following command to fill out all the code for this step:

00:02:37.713 --> 00:02:44.346
Because Google Glass is such a new paradigm for user input, we’ll need to set up a voice trigger to allow the user to start our app.

00:02:44.846 --> 00:02:51.958
To do this, we’ll add some some strings to our strings.xml and add an xml resource that describes the voice trigger.

00:02:52.458 --> 00:02:58.931
Finally, we’ll add an intent filter to our AndroidManifest.xml to register the voice command.

00:02:59.931 --> 00:03:03.048
In res/values/strings.xml

00:03:04.048 --> 00:03:12.359
In res/xml/whereami.xml (you can name this file anything as long as you refer to the same file in AndroidManifest.xml

00:03:13.359 --> 00:03:15.916
In AndroidManifest.xml:

00:03:16.916 --> 00:03:22.910
Now, if you run your code on Glass, you should be able to find the “Where Am I?” command in the Ok, Glass menu!

00:03:23.910 --> 00:03:25.108
Using Glass Cards

00:03:26.608 --> 00:03:29.565
We’ve gotten voice commands working, and that’s half the battle.

00:03:30.065 --> 00:03:34.220
Next we’ll learn how to use Cards, the native user interface for Glass.

00:03:34.720 --> 00:03:41.273
We’ll need to remove the existing style, then instantiate a Card object, set up its text and set it as the content view.

00:03:42.273 --> 00:03:45.709
Remove the line in AndroidManifest.xml that reads:

00:03:46.709 --> 00:03:51.104
Import Card from the GDK and create a new Card instance in OnCreate()

00:03:52.104 --> 00:03:55.061
If you run the app, should see something like this:

00:03:56.061 --> 00:03:58.458
Getting Location and Updating the Card

00:03:59.958 --> 00:04:05.312
If you’re following along with git, you can type the following command to fill out all the code for this step:

00:04:06.312 --> 00:04:10.867
Finally, we want to get the Glass’ location and update the card with the appropriate info.

00:04:11.367 --> 00:04:14.963
Our lost Glass Explorer will be found and all will be well.

00:04:15.463 --> 00:04:24.654
We’ll do this by requesting location permissions, setting up a LocationManager and handling its callbacks by updating the card with lat long and a geocoded address, if available.

00:04:25.654 --> 00:04:30.848
Ask for permissions for user location and internet in AndroidManifest.xml

00:04:31.848 --> 00:04:38.801
Create a LocationManager that uses certain criteria to figure out which location services it can use on Glass in MainActivity.java

00:04:39.801 --> 00:04:44.835
Implement callbacks that will update the card when you get a location update in MainActivity.java

00:04:45.835 --> 00:04:52.628
The app should now start getting location updates on the Glass (it can take a while to get a good fix) and update the Card once it finds you.

00:04:53.128 --> 00:04:55.285
The result should look something like this:

00:04:56.285 --> 00:04:59.242
Congratulations! You’ve finished your first Glass app.

00:04:59.742 --> 00:05:10.930
Future generations will wonder how they ever knew where they were without a head mounted computer printing out their exact location on the earth into a glowing prism directly above their field of vision at all times!

00:05:11.930 --> 00:05:17.205
For more information about the GDK, check out Google’s official documentation ! Glass on!
